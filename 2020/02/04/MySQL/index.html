<!DOCTYPE html>

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">

  <meta name="description" content="MySQL ?
一种在服务器上运行的关系型数据库管理系统( RDBMS )。MySQL 是以公司创始人 Monty Widenius’s daughter: My 命名，属于 Oracle 旗下产品，其具有开源、体积小、速度快、 可靠、 可运行于多个系统上、支持多种语言、 支持大型数据库、且易于使用">


<link rel="alternate" href="/atom.xml" title="Gu Chuan&#39;s blog" type="application/atom+xml">
<meta name="theme-color" content="#a1d0f6">
<title>MySQL - Gu Chuan&#39;s blog</title>
<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link rel="shortcut icon" href="/favicon.png">
<link rel="stylesheet" href="/css/style.css">
<nav class="main-nav">
	
	    <a href="/">← Home</a>
	
	
	    <a href="/about/">About</a>
	
	    <a href="/archives/">Archives</a>
	
	    <a href="/links/">Links</a>
	
	<a class="cta" href="/atom.xml" data-no-instant>Subscribe</a>
</nav>

<section id="wrapper">
    <article class="post">
    <header>
        
            <h1>MySQL</h1>
        
        <h2 class="headline">Feb 04 2020
        
        </h2>
    </header>
</article>
<section id="post-body"><blockquote>
<p>MySQL ?</p>
<p>一种在服务器上运行的关系型数据库管理系统( RDBMS )。MySQL 是以公司创始人 Monty Widenius’s daughter: My 命名，属于 Oracle 旗下产品，其具有开源、体积小、速度快、 可靠、 可运行于多个系统上、支持多种语言、 支持大型数据库、且易于使用的特点。</p>
<p>数据库？</p>
<p>一间按照数据结构来组织、存储和管理数据的仓库。每个数据库都有一个或多个不同的 API (应用程序编程接口)，用于创建，访问，管理，搜索和复制所保存的数据，即连接某个数据源。 </p>
<p> 所谓的关系型数据库，是建立在关系模型基础上的数据库，借助于集合代数等数学概念和方法来处理数据库中的数据。 DBMS其特点：数据以表格的形式出现；每行为各种记录名称；每列为记录名称所对应的数据域；许多的行和列组成一张表格；若干的表格组成数据库。</p>
</blockquote>
<h1 id="零碎"><a href="#零碎" class="headerlink" title="零碎"></a>零碎</h1><p>数据库存有一个或多个表。  数据存储在表中。表格是一个相关数据的集合，它包含了列和行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">RDBMS 术语</span><br><span class="line">数据库: 数据库是一些关联表的集合，通常是一个文件或一组文件。</span><br><span class="line">数据表: 表是数据的矩阵。在一个数据库中的表看起来像一个简单的电子表格。</span><br><span class="line">列(字段): 一列(数据元素) 包含了相同类型的数据。</span><br><span class="line">行(记录)：一行(元组，或记录)是一组相关的数据。</span><br><span class="line">冗余：存储两倍数据，冗余降低了性能，但提高了数据的安全性。</span><br><span class="line">主键：主键是唯一的。一个数据表中只能包含一个主键。可以使用主键来查询数据。</span><br><span class="line">外键：外键用于关联两个表。</span><br><span class="line">复合键：复合键(组合键)将多个列作为一个索引键，一般用于复合索引。</span><br><span class="line">索引：索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍目录。使用索引可快速访问数据库表中特定信息。</span><br><span class="line">参照完整性: 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性。</span><br><span class="line">模式：关于数据库和表的布局及特性的信息。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 管理</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Windows 系统</span><br><span class="line">检查：任务管理器(cmd-&gt;services.msc)</span><br><span class="line">启动：cd c:/mysql/bin</span><br><span class="line">     mysqld --console</span><br><span class="line">关闭：c:/mysql/bin</span><br><span class="line">     mysqladmin -uroot shutdown</span><br><span class="line">Linux 系统</span><br><span class="line">检查：ps -ef | grep mysqld</span><br><span class="line">启动：cd /usr/bin</span><br><span class="line">     ./mysqld_safe &amp;</span><br><span class="line">关闭：cd /usr/bin</span><br><span class="line">     ./mysqladmin -u root -p shutdown</span><br></pre></td></tr></table></figure>

<p><code>MySQL 事务</code></p>
<p>数据库操作语句(insert,update,delete 语句)就构成一个事务。在 MySQL 中只有使用了 Innodb 数据库引擎的数据库或表才支持事务。 一般来说，事务是必须满足4个条件：原子性(不可分割性)、一致性、隔离性(独立性)、持久性。 </p>
<p>原子性：一个事务中的所有操作，要么全部完成，要么全部不完成，不会结束在中间某个环节。事务在执行过程中发生错误，会被回滚到事务开始前的状态，就像这个事务从来没有执行过一样。 </p>
<p>一致性：在事务开始之前和事务结束以后，数据库的完整性没有被破坏。这表示写入的资料必须完全符合所有的预设规则，这包含资料的精确度、串联性以及后续数据库可以自发性地完成预定的工作。 </p>
<p>隔离性：数据库允许多个并发事务同时对其数据进行读写和修改的能力，隔离性可以防止多个事务并发执行时由于交叉执行而导致数据的不一致。事务隔离分为不同级别，包括读未提交、读提交、可重复读和串行化。 </p>
<p>持久性：事务处理结束后，对数据的修改就是永久的，即便系统故障也不会丢失。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">BEGIN    开始一个事务</span><br><span class="line">ROLLBACK 事务回滚</span><br><span class="line">COMMIT   事务确认</span><br><span class="line">SET AUTOCOMMIT=0  禁止自动提交</span><br><span class="line">SET AUTOCOMMIT=1  开启自动提交</span><br><span class="line">SAVEPOINT identifier          事务中创建一个保存点，一个事务中可以有多个保存点</span><br><span class="line">RELEASE SAVEPOINT identifier  删除一个事务的保存点</span><br></pre></td></tr></table></figure>

<p><code>MySQL 用户</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER &apos;用户名&apos;@&apos;host&apos; IDENTIFIED BY &apos;密码&apos;;</span><br><span class="line">创建用户</span><br><span class="line">GRANT [增删改查建索视储函ALL] ON 数据表名 TO &apos;用户名&apos;@&apos;host&apos;;</span><br><span class="line">授予权限</span><br><span class="line">GRANT [增删改查建索视储函ALL] ON 数据表名 TO &apos;用户名&apos;@&apos;host&apos; WITH GRANT OPTION;</span><br><span class="line">权限继承</span><br><span class="line">GRANT [增删改查建索视储函ALL] ON 数据表名 TO &apos;用户名&apos;@&apos;host&apos; IDENTIFIED BY &apos;密码&apos;;</span><br><span class="line">授予权限并创建用户</span><br><span class="line">REVOKE [增删改查建索视储函ALL] ON 数据表名 FROM &apos;用户名&apos;@&apos;host&apos;;</span><br><span class="line">删除权限</span><br><span class="line">FLUSH PRIVILEGES;</span><br><span class="line">刷新权限</span><br><span class="line">DROP USER &apos;用户名&apos;@&apos;host&apos;;</span><br><span class="line">删除用户</span><br><span class="line">RENAME USER &apos;旧用户名&apos;@&apos;host&apos; TO &apos;新用户名&apos;@&apos;host&apos;;</span><br><span class="line">更改用户名</span><br><span class="line">SHOW GRANTS;</span><br><span class="line">查看用户权限</span><br><span class="line">SHOW GRANTS FOR &apos;用户名&apos;@&apos;host&apos;;</span><br><span class="line">查看其他用户权限</span><br><span class="line"></span><br><span class="line">注：host=&quot;localhost&quot;为本地登录用户，host=&quot;ip&quot;为ip地址登录，host=&quot;%&quot;，为外网ip登录。</span><br><span class="line">数据表名可以是数据库.*。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 登录</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -h 主机名 -u 用户名 -p</span><br><span class="line">注：在输入密码时，密码不会显示。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 退出</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit 或 quit 或 \q</span><br></pre></td></tr></table></figure>

<p><code>MySQL 创建数据库并设置字符集校对规则</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE [IF NOT EXISTS] 数据库名 CHARACTER SET 字符集(utf8) COLLATE 校对规则(utf8_general_ci);</span><br><span class="line">注：MySQL命令终止符为分号(;)。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 查看数据库</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES;</span><br><span class="line">查看系统数据库列表</span><br><span class="line">SHOW CREATE DATABASE 数据库名;</span><br><span class="line">查看指定数据库</span><br></pre></td></tr></table></figure>

<p><code>MySQL 选择数据库</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">USE 数据库名;</span><br><span class="line">注：选择要操作的Mysql数据库，使用该命令后所有Mysql命令都只针对该数据库。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 删除数据库</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE [IF EXISTS] 数据库名;</span><br></pre></td></tr></table></figure>

<p><code>MySQL 数据类型</code></p>
<p>MySQL支持多种类型，大致可以分为三类：数值类型、日期/时间类型、字符串(字符)类型。  </p>
<table>
<thead>
<tr>
<th>数值类型</th>
<th>大小</th>
<th>范围(有符号)</th>
<th>范围(无符号)</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>TINYINT</td>
<td>1 字节</td>
<td>(-128，127)</td>
<td>(0，255)</td>
<td>小整数值</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2 字节</td>
<td>(-32 768，32 767)</td>
<td>(0，65 535)</td>
<td>大整数值</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>3 字节</td>
<td>(-8 388 608，8 388 607)</td>
<td>(0，16 777 215)</td>
<td>大整数值</td>
</tr>
<tr>
<td>INT或INTEGER</td>
<td>4 字节</td>
<td>(-2 147 483 648，2 147 483 647)</td>
<td>(0，4 294 967 295)</td>
<td>大整数值</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8 字节</td>
<td>(-9,223,372,036,854,775,808，9 223 372 036 854 775 807)</td>
<td>(0，18 446 744 073 709 551 615)</td>
<td>极大整数值</td>
</tr>
<tr>
<td>FLOAT</td>
<td>4 字节</td>
<td>(-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38)</td>
<td>0，(1.175 494 351 E-38，3.402 823 466 E+38)</td>
<td>单精度浮点数值</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>8 字节</td>
<td>(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td>0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td>双精度浮点数值</td>
</tr>
<tr>
<td>DECIMAL</td>
<td>对DECIMAL(M,D) ，如果M&gt;D，为M+2否则为D+2</td>
<td>依赖于M和D的值</td>
<td>依赖于M和D的值</td>
<td>小数值</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>日期和时间类型</th>
<th>大小 (字节)</th>
<th>范围</th>
<th>格式</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>DATE</td>
<td>3</td>
<td>1000-01-01/9999-12-31</td>
<td>YYYY-MM-DD</td>
<td>日期值</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>‘-838:59:59’/‘838:59:59’</td>
<td>HH:MM:SS</td>
<td>时间值或持续时间</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>1901/2155</td>
<td>YYYY</td>
<td>年份值</td>
</tr>
<tr>
<td>DATETIME</td>
<td>8</td>
<td>1000-01-01 00:00:00/9999-12-31 23:59:59</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>混合日期和时间值</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4</td>
<td>1970-01-01 00:00:00/2038  结束时间是第 <strong>2147483647</strong> 秒，北京时间 2038-1-19 11:14:07，格林尼治时间 2038年1月19日 凌晨 03:14:07</td>
<td>YYYYMMDD HHMMSS</td>
<td>混合日期和时间值，时间戳 (自动更新特性)</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>字符串类型</th>
<th>大小</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>CHAR</td>
<td>0-255字节</td>
<td>定长字符串</td>
</tr>
<tr>
<td>VARCHAR</td>
<td>0-65535 字节</td>
<td>变长字符串</td>
</tr>
<tr>
<td>ENUM</td>
<td>1-65535 选项(索引)</td>
<td>指定集合中取值(单选)</td>
</tr>
<tr>
<td>SET</td>
<td>1-64选项(索引)</td>
<td>指定集合中取值(多选)</td>
</tr>
<tr>
<td>TINYBLOB</td>
<td>0-255字节</td>
<td>不超过 255 个字符的二进制字符串</td>
</tr>
<tr>
<td>TINYTEXT</td>
<td>0-255字节</td>
<td>短文本字符串</td>
</tr>
<tr>
<td>BLOB</td>
<td>0-65 535字节</td>
<td>二进制形式的长文本数据</td>
</tr>
<tr>
<td>TEXT</td>
<td>0-65 535字节</td>
<td>长文本数据</td>
</tr>
<tr>
<td>MEDIUMBLOB</td>
<td>0-16 777 215字节</td>
<td>二进制形式的中等长度文本数据</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>0-16 777 215字节</td>
<td>中等长度文本数据</td>
</tr>
<tr>
<td>LONGBLOB</td>
<td>0-4 294 967 295字节</td>
<td>二进制形式的极大文本数据</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>0-4 294 967 295字节</td>
<td>极大文本数据</td>
</tr>
</tbody></table>
<p><code>MySQL 索引</code></p>
<p>索引分单列索引和组合索引。单列索引，即一个索引只包含单个列，一个表可以有多个单列索引，但这不是组合索引。组合索引，即一个索引包含多个列。实际上，索引也是一张表，该表保存了主键与索引字段，并指向实体表的记录。  </p>
<p>创建索引时，你需要确保该索引是应用在MySQL查询语句的条件(一般作为 WHERE 子句的条件)。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE 数据表名(   </span><br><span class="line">字段名 INT NOT NULL,   </span><br><span class="line">字段名 VARCHAR(16) NOT NULL,   </span><br><span class="line">INDEX 索引名 (字段名1,字段名2)   </span><br><span class="line">);</span><br><span class="line">创建数据表时指定普通索引</span><br><span class="line">CREATE INDEX 索引名 ON 数据表名(字段名(类型长度)); </span><br><span class="line">创建普通索引</span><br><span class="line">ALTER table 数据表名 ADD INDEX 索引名(字段名);</span><br><span class="line">数据表中添加普通索引</span><br><span class="line">DROP INDEX [索引名] ON 数据表名; </span><br><span class="line">删除普通索引</span><br><span class="line"></span><br><span class="line">四种特殊索引：唯一(UNIQUE)、主键索引(PRIMARY KEY)、外键索引(FOREIGN KEY)、全文索引(FULLTEXT)。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 创建数据表并设置存储引擎编码</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS `数据表名`(</span><br><span class="line">   `字段名1` INT UNSIGNED AUTO_INCREMENT,//UNSIGNED无符号 AUTO_INCREMENT自动增加属性。</span><br><span class="line">   `字段名2` VARCHAR(100) NOT NULL,//NOT NULL不为NULL</span><br><span class="line">   `字段名3` VARCHAR(40) NOT NULL,</span><br><span class="line">   `字段名4` DATE,</span><br><span class="line">   PRIMARY KEY ( `字段名` )</span><br><span class="line">)ENGINE=存储引擎(InnoDB) DEFAULT CHARSET=编码(utf8);</span><br><span class="line">注：`(反单引号) &apos;(单引号)</span><br><span class="line">   反引号是为了区分 MySql 关键字与普通字符而引入的符号，一般表名与字段名都使用反引号。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 临时表</code></p>
<p>MySQL 临时表在我们需要保存一些临时数据时是非常有用的。临时表只在当前连接可见，当关闭连接时，Mysql会自动删除表并释放所有空间。MySQL 临时表只在当前连接可见，如果你使用PHP脚本来创建MySQL临时表，那每当PHP脚本执行完成后，该临时表也会自动销毁。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TEMPORARY TABLE 临时表名 (</span><br><span class="line">	字段名 数据类型 属性,</span><br><span class="line">	字段名 数据类型 属性</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">CREATE TEMPORARY TABLE 临时表名 AS</span><br><span class="line">(</span><br><span class="line">    SELECT * FROM 原数据表名 LIMIT 0,10000</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><code>MySQL 复制表</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE 目标数据表名 LIKE 源数据表名;</span><br><span class="line">INSERT INTO 目标数据表名 SELECT * FROM 源数据表名;</span><br><span class="line"></span><br><span class="line">CREATE TABLE 目标数据表名 AS</span><br><span class="line">(</span><br><span class="line">    SELECT * FROM 源数据表名</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><code>MySQL 查看数据表</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SHOW TABLES;</span><br><span class="line">显示指定数据库的所有表。</span><br><span class="line">DESC 数据表名;</span><br><span class="line">查看数据表详细结构</span><br><span class="line">SHOW COLUMNS FROM 数据表名;</span><br><span class="line">显示数据表的属性，属性类型，主键信息 ，是否为 NULL，默认值等其他信息。 </span><br><span class="line">SHOW INDEX FROM 数据表名;</span><br><span class="line">显示数据表的详细索引信息，包括PRIMARY KEY(主键)。</span><br><span class="line">SHOW TABLE STATUS [FROM 数据库名] [LIKE 匹配模式]\G</span><br><span class="line">该命令将输出Mysql数据库管理系统的性能及统计信息。 </span><br><span class="line">注：\G\和;一样。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 修改数据表</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">ALTER DATABASE 数据库名 CHARACTER SET 字符集 COLLATE 校队规则;</span><br><span class="line">修改数据库字符集和校队规则</span><br><span class="line">ALTER TABLE 数据表名 ENGINE=存储引擎;</span><br><span class="line">修改数据表的存储引擎</span><br><span class="line">ALTER TABLE 数据表名 AUTO_INCREMENT = 100;</span><br><span class="line">修改数据表的自增数值，默认序列的开始值为1</span><br><span class="line">ALTER TABLE 数据表名 RENAME TO 新数据表名;</span><br><span class="line">重命名数据表名</span><br><span class="line">ALTER TABLE 数据表名 ADD 字段名 数据类型 [FIRST | AFTER];</span><br><span class="line">数据表中在指定位置(默认末尾)添加一个字段</span><br><span class="line">ALTER TABLE 数据表名 MODIFY 字段名 新数据类型 [DEFAULT 默认值];</span><br><span class="line">修改数据表中指定字段的数据类型或默认值</span><br><span class="line">ALTER TABLE 数据表名 ALTER 字段名 SET|DROP DEFAULT 默认值;</span><br><span class="line">修改或删除指定数据表中指定字段的默认值</span><br><span class="line">ALTER TABLE 数据表名 CHANGE 字段名 新字段名 新数据类型 [DEFAULT 默认值];</span><br><span class="line">更新数据表中指定字段的名字和类型</span><br><span class="line">ALTER TABLE 数据表名 DROP 字段名;</span><br><span class="line">删除数据表中的字段，只剩余一个字段则无法使用DROP来删除字段。</span><br><span class="line">ALTER TABLE 数据表名 ADD PRIMARY KEY(字段名);</span><br><span class="line">数据表中添加一个主键索引值必须是唯一的，且不能为NULL</span><br><span class="line">ALTER TABLE 数据表名 ADD FOREIGN KEY(字段名) REFERENCES 参照数据表名(字段名);</span><br><span class="line">数据表中添加一个外键索引值。</span><br><span class="line">ALTER TABLE 数据表名 ADD UNIQUE(字段名);</span><br><span class="line">数据表中添加一个唯一索引值，除了NULL外，NULL可能会出现多次</span><br><span class="line">ALTER TABLE 数据表名 ADD INDEX 索引名(字段名);</span><br><span class="line">数据表中添加普通索引，索引值可出现多次</span><br><span class="line">ALTER TABLE 数据表名 ADD FULLTEXT(字段名);</span><br><span class="line">数据表中添加全文索引</span><br></pre></td></tr></table></figure>

<p><code>MySQL 删除数据表</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE 数据表名;</span><br><span class="line">删除整个表，包括表结构、数据、定义。</span><br><span class="line">truncate table 数据表名;</span><br><span class="line">删除表内所有数据，保存表结构。</span><br><span class="line">delete from 数据表名 [where 删除条件];</span><br><span class="line">删除表内(指定)数据。</span><br><span class="line">注：执行速度：drop&gt;truncate&gt;delete。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 插入数据</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO 数据表名 (字段名1,字段名2,...,字段名N) VALUES (数据1,数据2,...,数据N);</span><br><span class="line">插入一条数据</span><br><span class="line">INSERT INTO 数据表名 (字段名1, 字段名2,...,字段名N) VALUES (数据A1,数据A2,...,数据AN),(数据B1,数据B2,...,数据BN),(数据C1,数据C2,...,数据CN),...;</span><br><span class="line">插入多条数据</span><br><span class="line">注：如果数据是字符型，必须使用单引号或者双引号，如：&quot;value&quot;。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 查询数据</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM 数据表名;</span><br><span class="line">查询指定表中所有字段数据</span><br><span class="line">SELECT 字段名 AS 别名 FROM 数据表名;</span><br><span class="line">查询指定表中指定字段，并将字段名添加一个别名的数据</span><br><span class="line">SELECT 字段名 FROM 数据表名1, 数据表名2,... [WHERE 条件1 [AND | OR] 条件2]...;</span><br><span class="line">查询指定表中指定条件的指定数据</span><br><span class="line">SELECT 字段名 FROM 数据表名 WHERE 字段名 NOT IN(不在条件);</span><br><span class="line">查询指定表中不在指定条件的数据</span><br><span class="line">SELECT 字段名 FROM 数据表名 WHERE 字段名 BETWEEN 条件 AND 条件;</span><br><span class="line">查询指定表中指定条件之间的数据</span><br><span class="line">SELECT 字段名 FROM 数据表名 WHERE 字段名 IS NOT NULL;</span><br><span class="line">查询指定表中不为NULL的字段信息</span><br><span class="line">SELECT 字段名 FROM 数据表名 WHERE [NOT] EXISTS(存在条件);</span><br><span class="line">查询指定表中满足存在或不存在条件的字段信息</span><br><span class="line">SELECT 字段名1,字段名2 FROM 数据表名 [WHERE 查询条件][LIMIT 记录数][ OFFSET 数据偏移量];</span><br><span class="line">查询指定表中指定数量指定条件的指定数据</span><br><span class="line">SELECT 字段名1, 字段名2,...,字段名N FROM 数据表名 WHERE 字段名 [LIKE | REGEXP] &apos;%匹配模式&apos;;</span><br><span class="line">查询指定表中指定字段及匹配模式(正则表达式)的数据</span><br><span class="line">SELECT * FROM 数据表名 ORDER BY 字段名1 [ASC | DESC],字段名2 [ASC | DESC];</span><br><span class="line">查询指定表中按字段数据升序(默认)或降序规则的数据</span><br><span class="line">SELECT 字段名, 函数名(字段名|*) AS 别名 FROM 数据表名 GROUP BY 字段名 [HAVING 查询条件];</span><br><span class="line">查询指定表中按分组条件得到的字段数及函数数据</span><br><span class="line">SELECT 字段名 FROM 数据表名1 [WHERE 查询条件] UNION [ALL | DISTINCT] SELECT 字段名 FROM 数据表名2;</span><br><span class="line">查询不同表中指定字段数据(重复或消除重复)默认消除</span><br><span class="line">SELECT 字段名 FROM 数据表名1 [INNER] JOIN 数据表名2 ON  表1与表2关联条件 [WHERE 查询条件];</span><br><span class="line">查询内连接的两个表中指定字段的数据</span><br><span class="line">SELECT 字段名 FROM 数据表名1 LEFT JOIN 数据表名2 ON  表1与表2关联条件 [WHERE 查询条件];</span><br><span class="line">查询左连接的两个表中指定字段的数据，读取左边数据表的全部数据，即便右边表无对应数据。</span><br><span class="line">SELECT 字段名 FROM 数据表名1 RIGHT JOIN 数据表名2 ON  表1与表2关联条件 [WHERE 查询条件];</span><br><span class="line">查询右连接的两个表中指定字段的数据，读取右边数据表的全部数据，即便左边表无对应数据。</span><br><span class="line">SELECT 别名1.字段名 from 数据表名1 别名1 join 数据表名1 别名2 on 别名1.字段名=别名2.字段名 [WHERE 查询条件];</span><br><span class="line">查询自身连接满足指定条件的字段数据</span><br><span class="line">SELECT 字段名 FROM 数据表名 WHERE 条件字段名 [IN | &gt;ALL | &gt;ANY](SELECT 条件字段名 from 数据表名2);</span><br><span class="line">子查询指定条件的字段数据</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">some tips &gt;&gt;&gt;</span><br><span class="line">limit N,M : 相当于limit M offset N , 从第N+1条记录开始, 返回M条记录。 初始记录行的偏移量是0。</span><br><span class="line">% : 表示任意0个或多个字符。可匹配任意类型和长度的字符。有些情况下若是中文，请使用两个百分号(%%)表示。</span><br><span class="line">_ : 表示任意单个字符。匹配单个任意字符，它常用来限制表达式的字符长度语句。</span><br><span class="line">[]  : 表示括号内所列字符中的一个(类似正则表达式)。指定一个字符、字符串或范围，要求所匹配对象为它们中的任一个。</span><br><span class="line">[^] : 表示不在括号所列之内的单个字符。其取值和 [] 相同，但它要求所匹配对象为指定字符以外的任一个字符。</span><br><span class="line">AS : 别名，也可以直接空格。</span><br><span class="line">查询顺序 : select –&gt;where –&gt; group by–&gt; having–&gt;order by。</span><br><span class="line">子查询语句可以嵌套子查询语句。</span><br><span class="line">在数据库里是严格区分的，任何数跟NULL进行运算都是NULL, 判断值是否等于NULL，不能简单用=，而要用IS NULL关键字。</span><br><span class="line">一个汉字占多少长度与编码有关：UTF－8：一个汉字＝3个字节；GBK：一个汉字＝2个字节。</span><br></pre></td></tr></table></figure>

<p><code>MySQL 更新数据</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">UPDATE 数据表名 SET 字段名=新数据 [WHERE 更新条件];</span><br><span class="line">更新一个字段</span><br><span class="line">UPDATE 数据表名 SET 字段名1=新数据1,字段名2=新数据2,字段名3=新数据3,... [WHERE 更新条件];</span><br><span class="line">更新多个字段</span><br></pre></td></tr></table></figure>

<p><code>MySQL 删除数据</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM 数据表名 [WHERE 删除条件];</span><br></pre></td></tr></table></figure>

<p><code>MySQL 获取元数据</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT VERSION();   服务器版本信息</span><br><span class="line">SELECT DATABASE();  当前数据库名 (或者返回空)</span><br><span class="line">SELECT USER();      当前用户名</span><br><span class="line">SHOW STATUS;        服务器状态</span><br><span class="line">SHOW VARIABLES;     服务器配置变量</span><br></pre></td></tr></table></figure>

<p><code>MYSQL 视图</code></p>
<p>视图是一个虚拟表，是查询结果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW 视图名 AS 查询命令;//MySQL 视图不支持创建子查询。</span><br><span class="line">视图创建</span><br><span class="line">ALTER VIEW 视图名 AS 查询命令;</span><br><span class="line">视图修改</span><br><span class="line">SELECT 字段名 FROM 视图名 [where 查询条件];</span><br><span class="line">视图查询</span><br><span class="line">INSERT INTO 视图名 VALUES(数据1,数据2);</span><br><span class="line">视图插入</span><br><span class="line">UPDATE 视图名 SET 字段名=新数据 [WHERE 更新条件]；</span><br><span class="line">视图更新</span><br><span class="line">DELETE FROM 视图名 [WHERE 删除条件];</span><br><span class="line">视图删除</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">创建存储过程</span><br><span class="line">delimiter $$</span><br><span class="line">create procedure 存储过程名(in 参数名 参数类型,out 参数名 参数类型)</span><br><span class="line">begin </span><br><span class="line">存储语句;</span><br><span class="line">end $$</span><br><span class="line">delimiter;</span><br><span class="line"></span><br><span class="line">call 存储过程名(参数,@msg);</span><br><span class="line">select @msg;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">创建触发器</span><br><span class="line">delimiter $$</span><br><span class="line">create trigger 触发器名</span><br><span class="line">after/before [SELECT | INSERT |UPDATE |DELETE] on 数据表名 for each row</span><br><span class="line">begin</span><br><span class="line">触发语句;</span><br><span class="line">end $$</span><br><span class="line">delimiter;</span><br></pre></td></tr></table></figure>

<p><code>MySQL 文件</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM 数据表名 INTO OUTFILE &apos;D:\文件名.文件类型&apos;; </span><br><span class="line">数据备份</span><br><span class="line">LOAD DATA INFILE &apos;D:\文件名.文件类型&apos; INTO TABLE 数据表名;</span><br><span class="line">数据还原</span><br><span class="line"></span><br><span class="line">mysqldump是MySQL用于转存储数据库的实用程序。它主要产生一个 SQL 脚本，其中包含从头重新创建数据库所必需的命令 CREATE TABLE INSERT 等。</span><br><span class="line">$ mysqldump -h主机名 -P端口 -u用户名 -p密码 --database 数据库名(--all-databases) &gt; ./文件名.sql</span><br><span class="line">数据备份</span><br><span class="line">$ mysql -h主机名 -P端口 -u用户名 -p密码 数据库名 &lt; ./dump.sql</span><br><span class="line">数据还原</span><br></pre></td></tr></table></figure>



<h1 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h1><table>
<thead>
<tr>
<th>MySQL 字符串函数</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>ASCII(s)</td>
<td>返回字符串 s 的第一个字符的 ASCII 码。</td>
<td>返回 CustomerName 字段第一个字母的 ASCII 码： <code>SELECT ASCII(CustomerName) AS NumCodeOfFirstChar FROM Customers;</code></td>
</tr>
<tr>
<td>CHAR_LENGTH(s)</td>
<td>返回字符串 s 的字符数</td>
<td>返回字符串 RUNOOB 的字符数 <code>SELECT CHAR_LENGTH(&quot;RUNOOB&quot;) AS LengthOfString;</code></td>
</tr>
<tr>
<td>CHARACTER_LENGTH(s)</td>
<td>返回字符串 s 的字符数</td>
<td>返回字符串 RUNOOB 的字符数 <code>SELECT CHARACTER_LENGTH(&quot;RUNOOB&quot;) AS LengthOfString;</code></td>
</tr>
<tr>
<td>CONCAT(s1,s2…sn)</td>
<td>字符串 s1,s2 等多个字符串合并为一个字符串</td>
<td>合并多个字符串 <code>SELECT CONCAT(&quot;SQL &quot;, &quot;Runoob &quot;, &quot;Gooogle &quot;, &quot;Facebook&quot;) AS ConcatenatedString;</code></td>
</tr>
<tr>
<td>CONCAT_WS(x, s1,s2…sn)</td>
<td>同 CONCAT(s1,s2,…) 函数，但是每个字符串之间要加上 x，x 可以是分隔符</td>
<td>合并多个字符串，并添加分隔符： <code>SELECT CONCAT_WS(&quot;-&quot;, &quot;SQL&quot;, &quot;Tutorial&quot;, &quot;is&quot;, &quot;fun!&quot;)AS ConcatenatedString;</code></td>
</tr>
<tr>
<td>FIELD(s,s1,s2…)</td>
<td>返回第一个字符串 s 在字符串列表(s1,s2…)中的位置</td>
<td>返回字符串 c 在列表值中的位置： <code>SELECT FIELD(&quot;c&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);</code></td>
</tr>
<tr>
<td>FIND_IN_SET(s1,s2)</td>
<td>返回在字符串s2中与s1匹配的字符串的位置</td>
<td>返回字符串 c 在指定字符串中的位置： <code>SELECT FIND_IN_SET(&quot;c&quot;, &quot;a,b,c,d,e&quot;);</code></td>
</tr>
<tr>
<td>FORMAT(x,n)</td>
<td>函数可以将数字 x 进行格式化 “#,###.##”, 将 x 保留到小数点后 n 位，最后一位四舍五入。</td>
<td>格式化数字 “#,###.##” 形式： <code>SELECT FORMAT(250500.5634, 2);     -- 输出 250,500.56</code></td>
</tr>
<tr>
<td>INSERT(s1,x,len,s2)</td>
<td>字符串 s2 替换 s1 的 x 位置开始长度为 len 的字符串</td>
<td>从字符串第一个位置开始的 6 个字符替换为 runoob： <code>SELECT INSERT(&quot;google.com&quot;, 1, 6, &quot;runnob&quot;);  -- 输出：runoob.com</code></td>
</tr>
<tr>
<td>LOCATE(s1,s)</td>
<td>从字符串 s 中获取 s1 的开始位置</td>
<td>获取 b 在字符串 abc 中的位置： <code>SELECT LOCATE(&#39;st&#39;,&#39;myteststring&#39;);  -- 5</code> 返回字符串 abc 中 b 的位置： <code>SELECT LOCATE(&#39;b&#39;, &#39;abc&#39;) -- 2</code></td>
</tr>
<tr>
<td>LCASE(s)</td>
<td>将字符串 s 的所有字母变成小写字母</td>
<td>字符串 RUNOOB 转换为小写： <code>SELECT LCASE(&#39;RUNOOB&#39;) -- runoob</code></td>
</tr>
<tr>
<td>LEFT(s,n)</td>
<td>返回字符串 s 的前 n 个字符</td>
<td>返回字符串 runoob 中的前两个字符： <code>SELECT LEFT(&#39;runoob&#39;,2) -- ru</code></td>
</tr>
<tr>
<td>LOWER(s)</td>
<td>将字符串 s 的所有字母变成小写字母</td>
<td>字符串 RUNOOB 转换为小写： <code>SELECT LOWER(&#39;RUNOOB&#39;) -- runoob</code></td>
</tr>
<tr>
<td>LPAD(s1,len,s2)</td>
<td>在字符串 s1 的开始处填充字符串 s2，使字符串长度达到 len</td>
<td>将字符串 xx 填充到 abc 字符串的开始处： <code>SELECT LPAD(&#39;abc&#39;,5,&#39;xx&#39;) -- xxabc</code></td>
</tr>
<tr>
<td>LTRIM(s)</td>
<td>去掉字符串 s 开始处的空格</td>
<td>去掉字符串 RUNOOB开始处的空格： <code>SELECT LTRIM(&quot;    RUNOOB&quot;) AS LeftTrimmedString;-- RUNOOB</code></td>
</tr>
<tr>
<td>MID(s,n,len)</td>
<td>从字符串 s 的 n 位置截取长度为 len 的子字符串，同 SUBSTRING(s,n,len)</td>
<td>从字符串 RUNOOB 中的第 2 个位置截取 3个 字符： <code>SELECT MID(&quot;RUNOOB&quot;, 2, 3) AS ExtractString; -- UNO</code></td>
</tr>
<tr>
<td>POSITION(s1 IN s)</td>
<td>从字符串 s 中获取 s1 的开始位置</td>
<td>返回字符串 abc 中 b 的位置： <code>SELECT POSITION(&#39;b&#39; in &#39;abc&#39;) -- 2</code></td>
</tr>
<tr>
<td>REPEAT(s,n)</td>
<td>将字符串 s 重复 n 次</td>
<td>将字符串 runoob 重复三次： <code>SELECT REPEAT(&#39;runoob&#39;,3) -- runoobrunoobrunoob</code></td>
</tr>
<tr>
<td>REPLACE(s,s1,s2)</td>
<td>将字符串 s2 替代字符串 s 中的字符串 s1</td>
<td>将字符串 abc 中的字符 a 替换为字符 x： <code>SELECT REPLACE(&#39;abc&#39;,&#39;a&#39;,&#39;x&#39;) --xbc</code></td>
</tr>
<tr>
<td>REVERSE(s)</td>
<td>将字符串s的顺序反过来</td>
<td>将字符串 abc 的顺序反过来： <code>SELECT REVERSE(&#39;abc&#39;) -- cba</code></td>
</tr>
<tr>
<td>RIGHT(s,n)</td>
<td>返回字符串 s 的后 n 个字符</td>
<td>返回字符串 runoob 的后两个字符： <code>SELECT RIGHT(&#39;runoob&#39;,2) -- ob</code></td>
</tr>
<tr>
<td>RPAD(s1,len,s2)</td>
<td>在字符串 s1 的结尾处添加字符串 s2，使字符串的长度达到 len</td>
<td>将字符串 xx 填充到 abc 字符串的结尾处： <code>SELECT RPAD(&#39;abc&#39;,5,&#39;xx&#39;) -- abcxx</code></td>
</tr>
<tr>
<td>RTRIM(s)</td>
<td>去掉字符串 s 结尾处的空格</td>
<td>去掉字符串 RUNOOB 的末尾空格： <code>SELECT RTRIM(&quot;RUNOOB     &quot;) AS RightTrimmedString;   -- RUNOOB</code></td>
</tr>
<tr>
<td>SPACE(n)</td>
<td>返回 n 个空格</td>
<td>返回 10 个空格： <code>SELECT SPACE(10);</code></td>
</tr>
<tr>
<td>STRCMP(s1,s2)</td>
<td>比较字符串 s1 和 s2，如果 s1 与 s2 相等返回 0 ，如果 s1&gt;s2 返回 1，如果 s1&lt;s2 返回 -1</td>
<td>比较字符串： <code>SELECT STRCMP(&quot;runoob&quot;, &quot;runoob&quot;);  -- 0</code></td>
</tr>
<tr>
<td>SUBSTR(s, start, length)</td>
<td>从字符串 s 的 start 位置截取长度为 length 的子字符串</td>
<td>从字符串 RUNOOB 中的第 2 个位置截取 3个 字符： <code>SELECT SUBSTR(&quot;RUNOOB&quot;, 2, 3) AS ExtractString; -- UNO</code></td>
</tr>
<tr>
<td>SUBSTRING(s, start, length)</td>
<td>从字符串 s 的 start 位置截取长度为 length 的子字符串</td>
<td>从字符串 RUNOOB 中的第 2 个位置截取 3个 字符： <code>SELECT SUBSTRING(&quot;RUNOOB&quot;, 2, 3) AS ExtractString; -- UNO</code></td>
</tr>
<tr>
<td>SUBSTRING_INDEX(s, delimiter, number)</td>
<td>返回从字符串 s 的第 number 个出现的分隔符 delimiter 之后的子串。  如果 number 是正数，返回第 number 个字符左边的字符串。  如果 number 是负数，返回第(number 的绝对值(从右边数))个字符右边的字符串。</td>
<td><code>SELECT SUBSTRING_INDEX(&#39;a*b&#39;,&#39;*&#39;,1) -- a SELECT SUBSTRING_INDEX(&#39;a*b&#39;,&#39;*&#39;,-1)  -- b SELECT SUBSTRING_INDEX(SUBSTRING_INDEX(&#39;a*b*c*d*e&#39;,&#39;*&#39;,3),&#39;*&#39;,-1)  -- c</code></td>
</tr>
<tr>
<td>TRIM(s)</td>
<td>去掉字符串 s 开始和结尾处的空格</td>
<td>去掉字符串 RUNOOB 的首尾空格： <code>SELECT TRIM(&#39;    RUNOOB    &#39;) AS TrimmedString;</code></td>
</tr>
<tr>
<td>UCASE(s)</td>
<td>将字符串转换为大写</td>
<td>将字符串 runoob 转换为大写： <code>SELECT UCASE(&quot;runoob&quot;); -- RUNOOB</code></td>
</tr>
<tr>
<td>UPPER(s)</td>
<td>将字符串转换为大写</td>
<td>将字符串 runoob 转换为大写： <code>SELECT UPPER(&quot;runoob&quot;); -- RUNOOB</code></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>MySQL 数字函数名</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>ABS(x)</td>
<td>返回 x 的绝对值</td>
<td>返回 -1 的绝对值： <code>SELECT ABS(-1) -- 返回1</code></td>
</tr>
<tr>
<td>ACOS(x)</td>
<td>求 x 的反余弦值(参数是弧度)</td>
<td><code>SELECT ACOS(0.25);</code></td>
</tr>
<tr>
<td>ASIN(x)</td>
<td>求反正弦值(参数是弧度)</td>
<td><code>SELECT ASIN(0.25);</code></td>
</tr>
<tr>
<td>ATAN(x)</td>
<td>求反正切值(参数是弧度)</td>
<td><code>SELECT ATAN(2.5);</code></td>
</tr>
<tr>
<td>ATAN2(n, m)</td>
<td>求反正切值(参数是弧度)</td>
<td><code>SELECT ATAN2(-0.8, 2);</code></td>
</tr>
<tr>
<td>AVG(expression)</td>
<td>返回一个表达式的平均值，expression 是一个字段</td>
<td>返回 Products 表中Price 字段的平均值： <code>SELECT AVG(Price) AS AveragePrice FROM Products;</code></td>
</tr>
<tr>
<td>CEIL(x)</td>
<td>返回大于或等于 x 的最小整数</td>
<td><code>SELECT CEIL(1.5) -- 返回2</code></td>
</tr>
<tr>
<td>CEILING(x)</td>
<td>返回大于或等于 x 的最小整数</td>
<td><code>SELECT CEIL(1.5) -- 返回2</code></td>
</tr>
<tr>
<td>COS(x)</td>
<td>求余弦值(参数是弧度)</td>
<td><code>SELECT COS(2);</code></td>
</tr>
<tr>
<td>COT(x)</td>
<td>求余切值(参数是弧度)</td>
<td><code>SELECT COT(6);</code></td>
</tr>
<tr>
<td>COUNT(expression)</td>
<td>返回查询的记录总数，expression 参数是一个字段或者 * 号</td>
<td>返回 Products 表中 products 字段总共有多少条记录： <code>SELECT COUNT(ProductID) AS NumberOfProducts FROM Products;</code></td>
</tr>
<tr>
<td>DEGREES(x)</td>
<td>将弧度转换为角度</td>
<td><code>SELECT DEGREES(3.1415926535898) -- 180</code></td>
</tr>
<tr>
<td>n DIV m</td>
<td>整除，n 为被除数，m 为除数</td>
<td>计算 10 除于 5： <code>SELECT 10 DIV 5;  -- 2</code></td>
</tr>
<tr>
<td>EXP(x)</td>
<td>返回 e 的 x 次方</td>
<td>计算 e 的三次方： <code>SELECT EXP(3) -- 20.085536923188</code></td>
</tr>
<tr>
<td>FLOOR(x)</td>
<td>返回小于或等于 x 的最大整数</td>
<td>小于或等于 1.5 的整数： <code>SELECT FLOOR(1.5) -- 返回1</code></td>
</tr>
<tr>
<td>GREATEST(expr1, expr2, expr3, …)</td>
<td>返回列表中的最大值</td>
<td>返回以下数字列表中的最大值： <code>SELECT GREATEST(3, 12, 34, 8, 25); -- 34</code> 返回以下字符串列表中的最大值：<code>SELECT GREATEST(&quot;Google&quot;, &quot;Runoob&quot;, &quot;Apple&quot;);   -- Runoob</code></td>
</tr>
<tr>
<td>LEAST(expr1, expr2, expr3, …)</td>
<td>返回列表中的最小值</td>
<td>返回以下数字列表中的最小值： <code>SELECT LEAST(3, 12, 34, 8, 25); -- 3</code> 返回以下字符串列表中的最小值：<code>SELECT LEAST(&quot;Google&quot;, &quot;Runoob&quot;, &quot;Apple&quot;);   -- Apple</code></td>
</tr>
<tr>
<td><a href="https://www.runoob.com/mysql/func_mysql_ln.asp" target="_blank" rel="noopener">LN</a></td>
<td>返回数字的自然对数</td>
<td>返回 2 的自然对数： <code>SELECT LN(2);  -- 0.6931471805599453</code></td>
</tr>
<tr>
<td>LOG(x)</td>
<td>返回自然对数(以 e 为底的对数)</td>
<td><code>SELECT LOG(20.085536923188) -- 3</code></td>
</tr>
<tr>
<td>LOG10(x)</td>
<td>返回以 10 为底的对数</td>
<td><code>SELECT LOG10(100) -- 2</code></td>
</tr>
<tr>
<td>LOG2(x)</td>
<td>返回以 2 为底的对数</td>
<td>返回以 2 为底 6 的对数： <code>SELECT LOG2(6);  -- 2.584962500721156</code></td>
</tr>
<tr>
<td>MAX(expression)</td>
<td>返回字段 expression 中的最大值</td>
<td>返回数据表 Products 中字段 Price 的最大值： <code>SELECT MAX(Price) AS LargestPrice FROM Products;</code></td>
</tr>
<tr>
<td>MIN(expression)</td>
<td>返回字段 expression 中的最小值</td>
<td>返回数据表 Products 中字段 Price 的最小值： <code>SELECT MIN(Price) AS LargestPrice FROM Products;</code></td>
</tr>
<tr>
<td>MOD(x,y)</td>
<td>返回 x 除以 y 以后的余数</td>
<td>5 除于 2 的余数： <code>SELECT MOD(5,2) -- 1</code></td>
</tr>
<tr>
<td>PI()</td>
<td>返回圆周率(3.141593）</td>
<td><code>SELECT PI() --3.141593</code></td>
</tr>
<tr>
<td>POW(x,y)</td>
<td>返回 x 的 y 次方</td>
<td>2 的 3 次方： <code>SELECT POW(2,3) -- 8</code></td>
</tr>
<tr>
<td>POWER(x,y)</td>
<td>返回 x 的 y 次方</td>
<td>2 的 3 次方： <code>SELECT POWER(2,3) -- 8</code></td>
</tr>
<tr>
<td>RADIANS(x)</td>
<td>将角度转换为弧度</td>
<td>180 度转换为弧度： <code>SELECT RADIANS(180) -- 3.1415926535898</code></td>
</tr>
<tr>
<td>RAND()</td>
<td>返回 0 到 1 的随机数</td>
<td><code>SELECT RAND() --0.93099315644334</code></td>
</tr>
<tr>
<td>ROUND(x)</td>
<td>返回离 x 最近的整数</td>
<td><code>SELECT ROUND(1.23456) --1</code></td>
</tr>
<tr>
<td>SIGN(x)</td>
<td>返回 x 的符号，x 是负数、0、正数分别返回 -1、0 和 1</td>
<td><code>SELECT SIGN(-10) -- (-1)</code></td>
</tr>
<tr>
<td>SIN(x)</td>
<td>求正弦值(参数是弧度)</td>
<td><code>SELECT SIN(RADIANS(30)) -- 0.5</code></td>
</tr>
<tr>
<td>SQRT(x)</td>
<td>返回x的平方根</td>
<td>25 的平方根： <code>SELECT SQRT(25) -- 5</code></td>
</tr>
<tr>
<td>SUM(expression)</td>
<td>返回指定字段的总和</td>
<td>计算 OrderDetails 表中字段 Quantity 的总和： <code>SELECT SUM(Quantity) AS TotalItemsOrdered FROM OrderDetails;</code></td>
</tr>
<tr>
<td>TAN(x)</td>
<td>求正切值(参数是弧度)</td>
<td><code>SELECT TAN(1.75);  -- -5.52037992250933</code></td>
</tr>
<tr>
<td>TRUNCATE(x,y)</td>
<td>返回数值 x 保留到小数点后 y 位的值（与 ROUND 最大的区别是不会进行四舍五入）</td>
<td><code>SELECT TRUNCATE(1.23456,3) -- 1.234</code></td>
</tr>
</tbody></table>
<hr>
<table>
<thead>
<tr>
<th>MySQL 日期函数名</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>ADDDATE(d,n)</td>
<td>计算起始日期 d 加上 n 天的日期</td>
<td><code>SELECT ADDDATE(&quot;2017-06-15&quot;, INTERVAL 10 DAY); -&gt;2017-06-25</code></td>
</tr>
<tr>
<td>ADDTIME(t,n)</td>
<td>时间 t 加上 n 秒的时间</td>
<td><code>SELECT ADDTIME(&#39;2011-11-11 11:11:11&#39;, 5) -&gt;2011-11-11 11:11:16 (秒)</code></td>
</tr>
<tr>
<td>CURDATE()</td>
<td>返回当前日期</td>
<td><code>SELECT CURDATE(); -&gt; 2018-09-19</code></td>
</tr>
<tr>
<td>CURRENT_DATE()</td>
<td>返回当前日期</td>
<td><code>SELECT CURRENT_DATE(); -&gt; 2018-09-19</code></td>
</tr>
<tr>
<td>CURRENT_TIME</td>
<td>返回当前时间</td>
<td><code>SELECT CURRENT_TIME(); -&gt; 19:59:02</code></td>
</tr>
<tr>
<td>CURRENT_TIMESTAMP()</td>
<td>返回当前日期和时间</td>
<td><code>SELECT CURRENT_TIMESTAMP() -&gt; 2018-09-19 20:57:43</code></td>
</tr>
<tr>
<td>CURTIME()</td>
<td>返回当前时间</td>
<td><code>SELECT CURTIME(); -&gt; 19:59:02</code></td>
</tr>
<tr>
<td>DATE()</td>
<td>从日期或日期时间表达式中提取日期值</td>
<td><code>SELECT DATE(&quot;2017-06-15&quot;);     -&gt; 2017-06-15</code></td>
</tr>
<tr>
<td>DATEDIFF(d1,d2)</td>
<td>计算日期 d1-&gt;d2 之间相隔的天数</td>
<td><code>SELECT DATEDIFF(&#39;2001-01-01&#39;,&#39;2001-02-02&#39;) -&gt; -32</code></td>
</tr>
<tr>
<td>DATE_ADD(d，INTERVAL expr type)</td>
<td>计算起始日期 d 加上一个时间段后的日期</td>
<td><code>SELECT ADDDATE(&#39;2011-11-11 11:11:11&#39;,1) -&gt; 2011-11-12 11:11:11  (默认是天) SELECT ADDDATE(&#39;2011-11-11 11:11:11&#39;, INTERVAL 5 MINUTE) -&gt; 2011-11-11 11:16:11 (TYPE的取值与上面那个列出来的函数类似)</code></td>
</tr>
<tr>
<td>DATE_FORMAT(d,f)</td>
<td>按表达式  f的要求显示日期 d</td>
<td><code>SELECT DATE_FORMAT(&#39;2011-11-11 11:11:11&#39;,&#39;%Y-%m-%d %r&#39;) -&gt; 2011-11-11 11:11:11 AM</code></td>
</tr>
<tr>
<td>DATE_SUB(date,INTERVAL expr type)</td>
<td>函数从日期减去指定的时间间隔。</td>
<td>Orders 表中 OrderDate 字段减去 2 天： <code>SELECT OrderId,DATE_SUB(OrderDate,INTERVAL 2 DAY) AS OrderPayDate FROM Orders</code></td>
</tr>
<tr>
<td>DAY(d)</td>
<td>返回日期值 d 的日期部分</td>
<td><code>SELECT DAY(&quot;2017-06-15&quot;);   -&gt; 15</code></td>
</tr>
<tr>
<td>DAYNAME(d)</td>
<td>返回日期 d 是星期几，如 Monday,Tuesday</td>
<td><code>SELECT DAYNAME(&#39;2011-11-11 11:11:11&#39;) -&gt;Friday</code></td>
</tr>
<tr>
<td>DAYOFMONTH(d)</td>
<td>计算日期 d 是本月的第几天</td>
<td><code>SELECT DAYOFMONTH(&#39;2011-11-11 11:11:11&#39;) -&gt;11</code></td>
</tr>
<tr>
<td>DAYOFWEEK(d)</td>
<td>日期 d 今天是星期几，1 星期日，2 星期一，以此类推</td>
<td><code>SELECT DAYOFWEEK(&#39;2011-11-11 11:11:11&#39;) -&gt;6</code></td>
</tr>
<tr>
<td>DAYOFYEAR(d)</td>
<td>计算日期 d 是本年的第几天</td>
<td><code>SELECT DAYOFYEAR(&#39;2011-11-11 11:11:11&#39;) -&gt;315</code></td>
</tr>
<tr>
<td>EXTRACT(type FROM d)</td>
<td>从日期 d 中获取指定的值，type 指定返回的值。   type可取值为：   MICROSECOND SECOND MINUTE HOUR DAY WEEK MONTH QUARTER YEAR SECOND_MICROSECOND MINUTE_MICROSECOND MINUTE_SECOND HOUR_MICROSECOND HOUR_SECOND HOUR_MINUTE DAY_MICROSECOND DAY_SECOND DAY_MINUTE DAY_HOUR YEAR_MONTH</td>
<td><code>SELECT EXTRACT(MINUTE FROM &#39;2011-11-11 11:11:11&#39;)  -&gt; 11</code></td>
</tr>
<tr>
<td>FROM_DAYS(n)</td>
<td>计算从 0000 年 1 月 1 日开始 n 天后的日期</td>
<td><code>SELECT FROM_DAYS(1111) -&gt; 0003-01-16</code></td>
</tr>
<tr>
<td>HOUR(t)</td>
<td>返回 t 中的小时值</td>
<td><code>SELECT HOUR(&#39;1:2:3&#39;) -&gt; 1</code></td>
</tr>
<tr>
<td>LAST_DAY(d)</td>
<td>返回给给定日期的那一月份的最后一天</td>
<td><code>SELECT LAST_DAY(&quot;2017-06-20&quot;); -&gt; 2017-06-30</code></td>
</tr>
<tr>
<td>LOCALTIME()</td>
<td>返回当前日期和时间</td>
<td><code>SELECT LOCALTIME() -&gt; 2018-09-19 20:57:43</code></td>
</tr>
<tr>
<td>LOCALTIMESTAMP()</td>
<td>返回当前日期和时间</td>
<td><code>SELECT LOCALTIMESTAMP() -&gt; 2018-09-19 20:57:43</code></td>
</tr>
<tr>
<td>MAKEDATE(year, day-of-year)</td>
<td>基于给定参数年份 year 和所在年中的天数序号 day-of-year 返回一个日期</td>
<td><code>SELECT MAKEDATE(2017, 3); -&gt; 2017-01-03</code></td>
</tr>
<tr>
<td>MAKETIME(hour, minute, second)</td>
<td>组合时间，参数分别为小时、分钟、秒</td>
<td><code>SELECT MAKETIME(11, 35, 4); -&gt; 11:35:04</code></td>
</tr>
<tr>
<td>MICROSECOND(date)</td>
<td>返回日期参数所对应的微秒数</td>
<td><code>SELECT MICROSECOND(&quot;2017-06-20 09:34:00.000023&quot;); -&gt; 23</code></td>
</tr>
<tr>
<td>MINUTE(t)</td>
<td>返回 t 中的分钟值</td>
<td><code>SELECT MINUTE(&#39;1:2:3&#39;) -&gt; 2</code></td>
</tr>
<tr>
<td>MONTHNAME(d)</td>
<td>返回日期当中的月份名称，如 November</td>
<td><code>SELECT MONTHNAME(&#39;2011-11-11 11:11:11&#39;) -&gt; November</code></td>
</tr>
<tr>
<td>MONTH(d)</td>
<td>返回日期d中的月份值，1 到 12</td>
<td><code>SELECT MONTH(&#39;2011-11-11 11:11:11&#39;) -&gt;11</code></td>
</tr>
<tr>
<td>NOW()</td>
<td>返回当前日期和时间</td>
<td><code>SELECT NOW() -&gt; 2018-09-19 20:57:43</code></td>
</tr>
<tr>
<td>PERIOD_ADD(period, number)</td>
<td>为 年-月 组合日期添加一个时段</td>
<td><code>SELECT PERIOD_ADD(201703, 5);    -&gt; 201708</code></td>
</tr>
<tr>
<td>PERIOD_DIFF(period1, period2)</td>
<td>返回两个时段之间的月份差值</td>
<td><code>SELECT PERIOD_DIFF(201710, 201703); -&gt; 7</code></td>
</tr>
<tr>
<td>QUARTER(d)</td>
<td>返回日期d是第几季节，返回 1 到 4</td>
<td><code>SELECT QUARTER(&#39;2011-11-11 11:11:11&#39;) -&gt; 4</code></td>
</tr>
<tr>
<td>SECOND(t)</td>
<td>返回 t 中的秒钟值</td>
<td><code>SELECT SECOND(&#39;1:2:3&#39;) -&gt; 3</code></td>
</tr>
<tr>
<td>SEC_TO_TIME(s)</td>
<td>将以秒为单位的时间 s 转换为时分秒的格式</td>
<td><code>SELECT SEC_TO_TIME(4320) -&gt; 01:12:00</code></td>
</tr>
<tr>
<td>STR_TO_DATE(string, format_mask)</td>
<td>将字符串转变为日期</td>
<td><code>SELECT STR_TO_DATE(&quot;August 10 2017&quot;, &quot;%M %d %Y&quot;); -&gt; 2017-08-10</code></td>
</tr>
<tr>
<td>SUBDATE(d,n)</td>
<td>日期 d 减去 n 天后的日期</td>
<td><code>SELECT SUBDATE(&#39;2011-11-11 11:11:11&#39;, 1) -&gt;2011-11-10 11:11:11 (默认是天)</code></td>
</tr>
<tr>
<td>SUBTIME(t,n)</td>
<td>时间 t 减去 n 秒的时间</td>
<td><code>SELECT SUBTIME(&#39;2011-11-11 11:11:11&#39;, 5) -&gt;2011-11-11 11:11:06 (秒)</code></td>
</tr>
<tr>
<td>SYSDATE()</td>
<td>返回当前日期和时间</td>
<td><code>SELECT SYSDATE() -&gt; 2018-09-19 20:57:43</code></td>
</tr>
<tr>
<td>TIME(expression)</td>
<td>提取传入表达式的时间部分</td>
<td><code>SELECT TIME(&quot;19:30:10&quot;); -&gt; 19:30:10</code></td>
</tr>
<tr>
<td>TIME_FORMAT(t,f)</td>
<td>按表达式 f 的要求显示时间 t</td>
<td><code>SELECT TIME_FORMAT(&#39;11:11:11&#39;,&#39;%r&#39;) 11:11:11 AM</code></td>
</tr>
<tr>
<td>TIME_TO_SEC(t)</td>
<td>将时间 t 转换为秒</td>
<td><code>SELECT TIME_TO_SEC(&#39;1:12:00&#39;) -&gt; 4320</code></td>
</tr>
<tr>
<td>TIMEDIFF(time1, time2)</td>
<td>计算时间差值</td>
<td><code>SELECT TIMEDIFF(&quot;13:10:11&quot;, &quot;13:10:10&quot;); -&gt; 00:00:01</code></td>
</tr>
<tr>
<td>TIMESTAMP(expression, interval)</td>
<td>单个参数时，函数返回日期或日期时间表达式；有2个参数时，将参数加和</td>
<td><code>SELECT TIMESTAMP(&quot;2017-07-23&quot;,  &quot;13:10:11&quot;); -&gt; 2017-07-23 13:10:11</code></td>
</tr>
<tr>
<td>TO_DAYS(d)</td>
<td>计算日期 d 距离 0000 年 1 月 1 日的天数</td>
<td><code>SELECT TO_DAYS(&#39;0001-01-01 01:01:01&#39;) -&gt; 366</code></td>
</tr>
<tr>
<td>WEEK(d)</td>
<td>计算日期 d 是本年的第几个星期，范围是 0 到 53</td>
<td><code>SELECT WEEK(&#39;2011-11-11 11:11:11&#39;) -&gt; 45</code></td>
</tr>
<tr>
<td>WEEKDAY(d)</td>
<td>日期 d 是星期几，0 表示星期一，1 表示星期二</td>
<td><code>SELECT WEEKDAY(&quot;2017-06-15&quot;); -&gt; 3</code></td>
</tr>
<tr>
<td>WEEKOFYEAR(d)</td>
<td>计算日期 d 是本年的第几个星期，范围是 0 到 53</td>
<td><code>SELECT WEEKOFYEAR(&#39;2011-11-11 11:11:11&#39;) -&gt; 45</code></td>
</tr>
<tr>
<td>YEAR(d)</td>
<td>返回年份</td>
<td><code>SELECT YEAR(&quot;2017-06-15&quot;); -&gt; 2017</code></td>
</tr>
<tr>
<td>YEARWEEK(date, mode)</td>
<td>返回年份及第几周（0到53），mode 中 0 表示周天，1表示周一，以此类推</td>
<td><code>SELECT YEARWEEK(&quot;2017-06-15&quot;); -&gt; 201724</code></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>MySQL 高级函数名</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>BIN(x)</td>
<td>返回 x 的二进制编码</td>
<td>15 的 2 进制编码: <code>SELECT BIN(15); -- 1111</code></td>
</tr>
<tr>
<td>BINARY(s)</td>
<td>将字符串 s 转换为二进制字符串</td>
<td><code>SELECT BINARY &quot;RUNOOB&quot;; -&gt; RUNOOB</code></td>
</tr>
<tr>
<td><code>CASE expression    WHEN condition1 THEN result1    WHEN condition2 THEN result2   ...    WHEN conditionN THEN resultN    ELSE result END</code></td>
<td>CASE 表示函数开始，END 表示函数结束。如果 condition1 成立，则返回 result1, 如果 condition2 成立，则返回 result2，当全部不成立则返回 result，而当有一个成立之后，后面的就不执行了。</td>
<td><code>SELECT CASE  　WHEN 1 &gt; 0 　THEN &#39;1 &gt; 0&#39; 　WHEN 2 &gt; 0 　THEN &#39;2 &gt; 0&#39; 　ELSE &#39;3 &gt; 0&#39; 　END -&gt;1 &gt; 0</code></td>
</tr>
<tr>
<td>CAST(x AS type)</td>
<td>转换数据类型</td>
<td>字符串日期转换为日期： <code>SELECT CAST(&quot;2017-08-29&quot; AS DATE); -&gt; 2017-08-29</code></td>
</tr>
<tr>
<td>COALESCE(expr1, expr2, …., expr_n)</td>
<td>返回参数中的第一个非空表达式（从左向右）</td>
<td><code>SELECT COALESCE(NULL, NULL, NULL, &#39;runoob.com&#39;, NULL, &#39;google.com&#39;); -&gt; runoob.com</code></td>
</tr>
<tr>
<td>CONNECTION_ID()</td>
<td>返回服务器的连接数</td>
<td><code>SELECT CONNECTION_ID(); -&gt; 4292835</code></td>
</tr>
<tr>
<td>CONV(x,f1,f2)</td>
<td>返回 f1 进制数变成 f2 进制数</td>
<td><code>SELECT CONV(15, 10, 2); -&gt; 1111</code></td>
</tr>
<tr>
<td>CONVERT(s USING cs)</td>
<td>函数将字符串 s 的字符集变成 cs</td>
<td><code>SELECT CHARSET(&#39;ABC&#39;) -&gt;utf-8     SELECT CHARSET(CONVERT(&#39;ABC&#39; USING gbk)) -&gt;gbk</code></td>
</tr>
<tr>
<td>CURRENT_USER()</td>
<td>返回当前用户</td>
<td><code>SELECT CURRENT_USER(); -&gt; guest@%</code></td>
</tr>
<tr>
<td>DATABASE()</td>
<td>返回当前数据库名</td>
<td><code>SELECT DATABASE();    -&gt; runoob</code></td>
</tr>
<tr>
<td>IF(expr,v1,v2)</td>
<td>如果表达式 expr 成立，返回结果 v1；否则，返回结果 v2。</td>
<td><code>SELECT IF(1 &gt; 0,&#39;正确&#39;,&#39;错误&#39;)     -&gt;正确</code></td>
</tr>
<tr>
<td><a href="https://www.runoob.com/mysql/mysql-func-ifnull.html" target="_blank" rel="noopener">IFNULL(v1,v2)</a></td>
<td>如果 v1 的值不为 NULL，则返回 v1，否则返回 v2。</td>
<td><code>SELECT IFNULL(null,&#39;Hello Word&#39;) -&gt;Hello Word</code></td>
</tr>
<tr>
<td>ISNULL(expression)</td>
<td>判断表达式是否为 NULL</td>
<td><code>SELECT ISNULL(NULL); -&gt;1</code></td>
</tr>
<tr>
<td>LAST_INSERT_ID()</td>
<td>返回最近生成的 AUTO_INCREMENT 值</td>
<td><code>SELECT LAST_INSERT_ID(); -&gt;6</code></td>
</tr>
<tr>
<td>NULLIF(expr1, expr2)</td>
<td>比较两个字符串，如果字符串 expr1 与 expr2 相等 返回 NULL，否则返回 expr1</td>
<td><code>SELECT NULLIF(25, 25); -&gt;</code></td>
</tr>
<tr>
<td>SESSION_USER()</td>
<td>返回当前用户</td>
<td><code>SELECT SESSION_USER(); -&gt; guest@%</code></td>
</tr>
<tr>
<td>SYSTEM_USER()</td>
<td>返回当前用户</td>
<td><code>SELECT SYSTEM_USER(); -&gt; guest@%</code></td>
</tr>
<tr>
<td>USER()</td>
<td>返回当前用户</td>
<td><code>SELECT USER(); -&gt; guest@%</code></td>
</tr>
<tr>
<td>VERSION()</td>
<td>返回数据库的版本号</td>
<td><code>SELECT VERSION() -&gt; 5.6.34</code></td>
</tr>
</tbody></table>
</section>
    
        
        <h2 class="footline">
            <a href="/tags/knowledge/#knowledge">knowledge</a>
        </h2>
    

    <footer id="post-meta" class="clearfix">
        <a href="/about/">
        <img class="avatar" src="/images/guchuan.JPG">
        <div>
            <span class="dark">Gu Chuan&#39;s blog</span>
            <span>没学过从来不是理由</span>
        </div>
        </a>
        <section id="sharing">
            <a title="Share to Twitter" class="twitter" href="https://twitter.com/intent/tweet?text=http://yoursite.com/2020/02/04/MySQL/ - MySQL @" target="_blank" rel="noopener"><span class="icon-twitter">tweet</span></a>
            <a title="Share to Facebook" class="facebook" href="#" onclick="
                window.open(
                  'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
                  'facebook-share-dialog',
                  'width=626,height=436');
                return false;"><span class="icon-facebook-sign">Share</span>
            </a>
        </section>
    </footer>


  <section id="comment">
    <button class="btn" id="loadcmts" onclick="cmts.load();">Load Comments</button>
    <div id="gitment"></div>
    <script src='/js/gitment.browser.js'></script>
    <link rel="stylesheet" href=''>
    <script>
      var cmts={
        load:function cmts(){
          var gitment = new Gitment({
          
            id: "MySQL",
          
            owner: "",
            repo: "",
            oauth: {
              client_id: "",
              client_secret: "",
            },
          })
          gitment.render('gitment');
          var loadcmt = document.getElementById("loadcmts");
          var imyourfather = loadcmt.parentNode;
          imyourfather.removeChild(loadcmts)
        }
      }
    </script>
  </section>


	<footer id="footer">
	<div id="social">
		<p class="small">©  Gu Chuan&#39;s blog| Powered by Hexo & 
			<a href="https://github.com/F0r3at/Lights" target="_blank" rel="noopener"> Lights</a>
		</p>
	</div>
</footer>

</section>

	<script src="//cdnjs.loli.net/ajax/libs/instantclick/3.0.1/instantclick.min.js" data-no-instant></script>
	<script data-no-instant>
		
		InstantClick.init('mousedown');
	</script>



