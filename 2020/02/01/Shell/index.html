<!DOCTYPE html>

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">

  <meta name="description" content="Shell ( 壳 )
一、Shell 是指为使用者提供操作界面的软件(命令解析器)，它是操作系统最外面的一层，管理与操作系统之间的交互，即接收用户命令，然后调用相应的应用程序。其中Shell分为两大类：图形界面Shell、命令行式Shell。
二、Shell 是命令语言同时又是一种程序设计语言。它">


<link rel="alternate" href="/atom.xml" title="Gu Chuan&#39;s blog" type="application/atom+xml">
<meta name="theme-color" content="#a1d0f6">
<title>Shell - Gu Chuan&#39;s blog</title>
<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link rel="shortcut icon" href="/favicon.png">
<link rel="stylesheet" href="/css/style.css">
<nav class="main-nav">
	
	    <a href="/">← Home</a>
	
	
	    <a href="/about/">About</a>
	
	    <a href="/archives/">Archives</a>
	
	    <a href="/links/">Links</a>
	
	<a class="cta" href="/atom.xml" data-no-instant>Subscribe</a>
</nav>

<section id="wrapper">
    <article class="post">
    <header>
        
            <h1>Shell</h1>
        
        <h2 class="headline">Feb 01 2020
        
        </h2>
    </header>
</article>
<section id="post-body"><blockquote>
<p><a href="https://baike.baidu.com/item/shell/99702#2" target="_blank" rel="noopener">Shell ( 壳 )</a></p>
<p>一、Shell 是指为使用者提供操作界面的软件(命令解析器)，它是操作系统最外面的一层，管理与操作系统之间的交互，即接收用户命令，然后调用相应的应用程序。其中Shell分为两大类：图形界面Shell、命令行式Shell。</p>
<p>二、Shell 是命令语言同时又是一种程序设计语言。它允许用户编写由Linux命令组成的应用程序，而应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。 </p>
<p>注： 操作系统一般核心（kernel）和外壳（shell）两部分。内核负责一切实际的工作，包括CPU任务调度、内存分配管理、设备管理、文件操作等；外壳是基于内核提供的交互功能而存在的界面，它负责指令传递和解释。 </p>
</blockquote>
<h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><p>本文记录<a href="https://baike.baidu.com/item/Linux%20Shell/10142850?fr=aladdin" target="_blank" rel="noopener">Linux Shell</a>脚本(Bash)学习知识，而非 Shell 本身。 Bash 也是大多数Linux 系统默认的 Shell。 </p>
<p>#! 约定标记，告诉系统其后路径所指定的程序，是解释此脚本文件的 Shell 程序。</p>
<p>Shell 脚本扩展名并不影响脚本执行，一般用.sh。</p>
<p>Shell 语句不用分号作为终止符。 分号用作代码块标识。</p>
<p><code>运行Shell脚本</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">一、作为可执行程序</span><br><span class="line">chmod +x ./test.sh    #使脚本具有执行权限</span><br><span class="line">./test.sh  参数1 参数2  #执行脚本</span><br><span class="line">注：“./”必须加上。</span><br><span class="line">二、作为解释器参数，直接运行解释器</span><br><span class="line">/bin/sh test.sh 参数1 参数2</span><br></pre></td></tr></table></figure>

<p><code>Shell 各种括号</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">单圆括号()</span><br><span class="line">1.单圆括号中的命令将会新开一个子shell顺序执行，所以括号中的变量不能够被其他部分使用。</span><br><span class="line">  括号中多个命令之间用分号隔开，最后一个命令可以没有分号，各命令和括号之间不必有空格。 </span><br><span class="line">2.等同于``，shell扫描一遍命令行，发现了$(cmd)结构，便将$(cmd)中的cmd执行一次，将此输出放到原来命令。</span><br><span class="line">  一些shell不支持，如tcsh。 </span><br><span class="line">3.用于初始化数组。</span><br><span class="line"></span><br><span class="line">双圆括号(())</span><br><span class="line">1.整数扩展。双圆括号结构扩展计算一个算术表达式的值。若是逻辑判断，表达式为真则为1,假则为0。 </span><br><span class="line">  如果表达式的结果为一个非0值，那么返回的退出状态码为0，或者是&quot;true&quot;。</span><br><span class="line">  如果表达式的结果为0，那么返回的退出状态码为1，或者是&quot;假&quot;。</span><br><span class="line">2.常用于算术运算比较，双括号中的变量可以不使用$符号前缀。括号内支持多个表达式用逗号分开。 </span><br><span class="line">  只要括号中的表达式符合C语言运算规则,都可用在$((exp))或`exp`中，甚至是三目运算符。</span><br><span class="line">  不同进制位运算时，输出结果全都自动转化成十进制。</span><br><span class="line">  如：echo $((16#5f)) 结果为95 (16进位转十进制) </span><br><span class="line">     for((i=0;i&lt;5;i++)) 或 if (($i&lt;5))</span><br><span class="line">3.单纯用 (( )) 也可重定义变量值，比如 a=5; ((a++)) 可将$a重定义为6。</span><br><span class="line"></span><br><span class="line">单中括号[]</span><br><span class="line">1.bash 的内部命令，[和test是等同的。</span><br><span class="line">  如果我们不用绝对路径指明，通常我们用的都是bash自带的命令。</span><br><span class="line">  if/test结构中的左中括号是调用test的命令标识，右中括号是关闭条件判断的。</span><br><span class="line">  这个命令把它的参数作为比较表达式或者作为文件测试，并且根据比较的结果来返回一个退出状态码。</span><br><span class="line">2.Test和[]中可用的比较运算符只有==和!=，两者都是用于字符串比较的，不可用于整数比较。</span><br><span class="line">  整数比较只能使用-eq，-gt形式。无论是字符串比较还是整数比较都不支持大于号小于号。</span><br><span class="line">  如果比较&quot;ab&quot;和&quot;bc&quot;：[ ab \&lt; bc ]，结果为真，也就是返回状态为0。</span><br><span class="line">3.字符范围。作为正则表达式的一部分，描述一个匹配的字符范围。</span><br><span class="line">  作为test命令时的中括号内不能使用正则表达式。 </span><br><span class="line">4.用作来引用数组中每个元素的编号。</span><br><span class="line"></span><br><span class="line">双中括号[[]]</span><br><span class="line">1.[[是 bash 程序语言的关键字，并不是一个命令。</span><br><span class="line">  在[[和]]之间所有的字符都不会发生文件名扩展或者单词分割，但是会发生参数扩展和命令替换。 </span><br><span class="line">2.支持字符串的模式匹配。[[ ]] 中匹配字符串或通配符，不需要引号。 </span><br><span class="line">  字符串比较时可以把右边的作为一个模式，而不仅仅是一个字符串，比如[[ hello == hell? ]]，结果为真。</span><br><span class="line">3.使用[[ ... ]]条件判断结构，而不是[ ... ]，能够防止脚本中的许多逻辑错误。</span><br><span class="line">  比如：&amp;&amp;、||、&lt;和&gt; 操作符能够正常存在于[[ ]]条件判断结构中，但是如果出现在[ ]结构中的话，会报错。</span><br><span class="line">  if [[ $a != 1 &amp;&amp; $a != 2 ]]等价于if [ $a -ne 1] &amp;&amp; [ $a != 2 ]等价于if [ $a -ne 1 -a $a != 2 ]。 </span><br><span class="line">4.bash把双中括号中的表达式看作一个单独的元素，并返回一个退出状态码。</span><br><span class="line"></span><br><span class="line">大括号&#123;&#125;</span><br><span class="line">1.对大括号中的以逗号分割的文件列表进行拓展。如 touch &#123;a,b&#125;.txt 结果为a.txt b.txt。</span><br><span class="line">  对大括号中以点点（..）分割的顺序文件列表起拓展作用。如：touch &#123;a..d&#125;.txt 结果为a.txt b.txt c.txt d.txt。</span><br><span class="line">  在大括号中，不允许有空白，除非这个空白被引用或转义。</span><br><span class="line">2.代码块，又被称为内部组，即创建一个匿名函数 。</span><br><span class="line">  与小括号中的命令不同，大括号内的命令不会新开一个子shell运行，即脚本余下部分仍可使用括号内变量。</span><br><span class="line">  括号内的命令间用分号隔开，最后一个也必须有分号。</span><br><span class="line">  &#123;&#125;的第一个命令和左括号之间必须要有一个空格。</span><br><span class="line">3.用于字符串的提取和替换。</span><br><span class="line">  $&#123;var:num&#125;</span><br><span class="line">  $&#123;var:num1:num2&#125;</span><br><span class="line">  注：若num为正数，从左边0处开始。</span><br><span class="line">     若num为负数，从右边开始提取字串，但必须使用在冒号后面加空格或一个数字或整个num加上括号。</span><br><span class="line">  $&#123;var/pattern/pattern&#125;  将var字符串的第一个匹配的pattern替换为另一个pattern。 </span><br><span class="line">  $&#123;var//pattern/pattern&#125; 将var字符串中的所有能匹配的pattern替换为另一个pattern。</span><br><span class="line">  </span><br><span class="line">4.用于字符串匹配。</span><br><span class="line">  $&#123;var%pattern&#125;   将var字符串中符合pattern的右边最短匹配去除。</span><br><span class="line">  $&#123;var%%pattern   将var字符串中符合pattern的右边最长匹配去除。</span><br><span class="line">  $&#123;var#pattern&#125;   将var字符串中符合pattern的左边最短匹配去除。</span><br><span class="line">  $&#123;var##pattern&#125;  将var字符串中符合pattern的左边最长匹配去除。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.几种特殊的替换结构</span><br><span class="line">  $&#123;var:-string&#125; </span><br><span class="line">  $&#123;var:+string&#125; </span><br><span class="line">  $&#123;var:=string&#125;</span><br><span class="line">  $&#123;var:?string&#125;</span><br><span class="line">  若变量var为空，则用命令行中的string来替换$&#123;var:-string&#125;。</span><br><span class="line">  若变量var不为空时，则用变量var的值来替换$&#123;var:-string&#125;。</span><br><span class="line">  若变量var为空时，则将$&#123;var:-string&#125;替换成空。</span><br><span class="line">  若变量var不是空时，则用命令行中的string来替换$&#123;var:+string&#125;。</span><br><span class="line">  若变量var为空时，则把string输出到标准错误中，并从脚本中退出。</span><br><span class="line">  若变量var不为空时，则用变量var的值来替换$&#123;var:?string&#125;。</span><br><span class="line">  对于$&#123;var:=string&#125;的替换规则和$&#123;var:-string&#125;是一样的。</span><br><span class="line">  若变量var为空，则用命令行中的string来替换$&#123;var:-string&#125;，并把string赋给变量var。  </span><br><span class="line">  若变量var不为空时，则用变量var的值来替换$&#123;var:-string&#125;。</span><br></pre></td></tr></table></figure>

<p><code>Shell 变量</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">定义Shell变量不需要特殊符号标志，即直接赋值，var=value。已定义的变量，可以被重新定义。</span><br><span class="line">注：变量名和等号之间不能有空格；命名只能使用英文字母，数字和下划线，首个字符不能以数字开头；中间不能有空格，可以使用下划线(_)；不能使用标点符号；不能使用bash里的关键字(可用help命令查看保留关键字)。</span><br><span class="line"></span><br><span class="line">使用Shell变量时，只需要在一个定义过的变量名前加美元符号($)即可，echo $&#123;var&#125;。变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界。</span><br><span class="line"></span><br><span class="line">删除Shell变量，可以使用unset命令，unset var。</span><br><span class="line"></span><br><span class="line">Shell存在几种变量类型。</span><br><span class="line">只读变量    使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。</span><br><span class="line">局部变量    局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</span><br><span class="line">环境变量    所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候              shell脚本也可以定义环境变量。</span><br><span class="line">shell变量   shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保            证shell的正常运行。</span><br></pre></td></tr></table></figure>

<p><code>Shell 字符串</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Shell 字符串可以用单引号，也可以用双引号，也可以不用引号。</span><br><span class="line">单引号(&apos;&apos;)</span><br><span class="line">    单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</span><br><span class="line">    单引号字串中不能出现单独一个的单引号(对单引号使用转义符后也不行)，但可成对出现，作为字符串拼接使用。</span><br><span class="line">双引号(&quot;&quot;)</span><br><span class="line">    双引号里可以有变量</span><br><span class="line">    双引号里可以出现转义字符</span><br><span class="line">获取字符串长度</span><br><span class="line">string=&quot;abcd&quot;</span><br><span class="line">echo $&#123;#string&#125; #输出 4</span><br><span class="line">提取子字符串</span><br><span class="line">string=&quot;guchuan&quot;</span><br><span class="line">echo $&#123;string:1:2&#125; # 输出 uc</span><br><span class="line">注：第一个字符的索引值为0。</span><br><span class="line">查找子字符串</span><br><span class="line">string=&quot;guchuan&quot;</span><br><span class="line">echo `expr index &quot;$string&quot; cu`  # 输出 1</span><br><span class="line">注：哪个字母先出现就计算哪个。使用expr命令时，表达式中运算符左右必须包含空格，如果不包含空格，将会输出表达式本身。</span><br></pre></td></tr></table></figure>

<p><code>Shell 数组</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Bash支持一维数组（不支持多维数组），并且没有限定数组的大小，数组的值也可以是变量。数组元素的下标由0开始编号。获取数组中的元素要利用下标，下标可以是整数或变量或算术表达式，其值应大于或等于0。</span><br><span class="line">注：Bourne shell(原生kernel下)下不支持数组，只能通过模拟来实现类似数组功能。(#!/bin/sh)</span><br><span class="line"></span><br><span class="line">定义数组</span><br><span class="line">在Shell中，用括号来表示数组，数组元素用&quot;空格&quot;符号分割开。单独定义时，可以不使用连续的下标，且下标的范围没有限制。 </span><br><span class="line">array_name=(value0 value1 value2 value3 ...) 或 array_name[0]=value0  array_name[1]=value1 ...</span><br><span class="line">读取数组</span><br><span class="line">value=$&#123;array_name[n]&#125;  注：使用@ 或 *符号可以获取数组中的所有元素，echo $&#123;array_name[@]&#125; 。</span><br><span class="line">获取数组长度(同字符串一样)</span><br><span class="line">echo $&#123;#array_name[n]&#125;</span><br></pre></td></tr></table></figure>

<p><code>Shell 注释</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">单行注释符：#</span><br><span class="line">多行注释符：:&lt;&lt;EOF   EOF </span><br><span class="line">注：EOF可以使用其他符号，不唯一。</span><br></pre></td></tr></table></figure>

<p><code># ## % %% : ::截取</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var=http://www.baidu.com/guchuan</span><br><span class="line"></span><br><span class="line"># 号截取，删除左边字符，保留右边字符。  </span><br><span class="line">  echo $&#123;var#*//&#125;   www.baidu.com/guchuan  </span><br><span class="line">  #*//    :  从左边开始删除,删除到第一个//号，包括//号。</span><br><span class="line">## 号截取，删除左边字符，保留右边字符。</span><br><span class="line">  echo $&#123;var##*/&#125;   guchuan</span><br><span class="line">  ##*/    :  从左边开始删除,删除到最后一个/号，包括/号。</span><br><span class="line">% 号截取，删除右边字符，保留左边字符。</span><br><span class="line">  echo $&#123;var%/*&#125;    http://www.baidu.com</span><br><span class="line">  %/*     :  从右边开始删除,删除到第一个/号，包括/号。</span><br><span class="line">%% 号截取，删除右边字符，保留左边字符。</span><br><span class="line">  echo $&#123;var%%/*&#125;   http:</span><br><span class="line">  %%/*    :  从右边开始删除,删除到最后一个/号，包括/号。</span><br><span class="line">:n 号截取，从左边第n+1个字符(第n个索引)开始，一直到结束。</span><br><span class="line">  echo $&#123;var:4&#125;     //www.baidu.com/guchuan</span><br><span class="line">:0-m:n号截取，从右边第m个字符开始，取几个字符数。</span><br><span class="line">  echo $&#123;var:0-7:3&#125; guc</span><br><span class="line">注：# */、% /*位置关系。</span><br></pre></td></tr></table></figure>

<p><code>Shell 传递参数</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：$n 。</span><br><span class="line">其中n代表一个数字，0为执行的文件名，1为执行脚本的第一个参数，2为执行脚本的第二个参数，当n&gt;=10时，需要使用$&#123;n&#125;来获取参数，以此类推……。此外，还有几个特殊字符用来处理参数。</span><br><span class="line">$#  传递到脚本的参数个数</span><br><span class="line">$*  以一个单字符串显示所有向脚本传递的参数</span><br><span class="line">    如&quot;$*&quot;用「&quot;」括起来的情况、以&quot;$1 $2 … $n&quot;的形式输出所有参数。</span><br><span class="line">$$  脚本运行的当前进程ID号</span><br><span class="line">$!  后台运行的最后一个进程的ID号</span><br><span class="line">$@  与$*相同，但是使用时加引号，并在引号中返回每个参数。</span><br><span class="line">    如&quot;$@&quot;用「&quot;」括起来的情况、以&quot;$1&quot; &quot;$2&quot; … &quot;$n&quot; 的形式输出所有参数。</span><br><span class="line">$-  显示Shell使用的当前选项，与set命令功能相同。</span><br><span class="line">$?  显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</span><br><span class="line"></span><br><span class="line">例子</span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;Shell 传递参数&quot;</span><br><span class="line">echo &quot;执行的文件名：$0&quot;</span><br><span class="line">echo &quot;第一个参数为：$1&quot;</span><br><span class="line">echo &quot;参数个数为：$#&quot;</span><br><span class="line">echo &quot;交班本当前进程ID号为：$$&quot;</span><br></pre></td></tr></table></figure>

<p><code>Shell 基本运算符</code></p>
<p>原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。 </p>
<p>注：expr 是一款表达式计算工具，使用它能完成表达式的求值操作。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">算术运算符</span><br><span class="line">+ - \* / %  </span><br><span class="line">val=`expr $&#123;a&#125; 算术运算符 $&#123;b&#125;`</span><br><span class="line">注：表达式和运算符之间要有空格，完整的表达式要被 ` 包含，乘法运算符要加 \ 。</span><br><span class="line"></span><br><span class="line">关系运算符</span><br><span class="line">-eq   检测两个数是否相等              [ $a -eq $b ] </span><br><span class="line">-ne   检测两个数是否不相等            [ $a -ne $b ] </span><br><span class="line">-gt   检测左边的数是否大于右边的       [ $a -gt $b ] </span><br><span class="line">-lt   检测左边的数是否小于右边的       [ $a -lt $b ] </span><br><span class="line">-ge   检测左边的数是否大于等于右边的    [ $a -ge $b ] </span><br><span class="line">-le   检测左边的数是否小于等于右边的    [ $a -le $b ] </span><br><span class="line">-nt   判断左边文件是否比右边文件新      [ &quot;/data/file1&quot; -nt &quot;/data/file2&quot; ]</span><br><span class="line">-ot   判断左边文件是否比右边文件旧      [ &quot;/data/file1&quot; -ot &quot;/data/file2&quot; ]</span><br><span class="line">布尔运算符</span><br><span class="line">!     非运算   	[ ! false ]</span><br><span class="line">-o    或运算       [ $a 关系运算符 $b -o $c 关系运算符 $d ]</span><br><span class="line">-a    与运算       [ $a 关系运算符 $b -a $c 关系运算符 $d ]</span><br><span class="line"></span><br><span class="line">逻辑运算符</span><br><span class="line">&amp;&amp;   AND     	[[ $a 关系运算符 $b &amp;&amp; $c 关系运算符 $d ]] </span><br><span class="line">||   OR      	[[ $a 关系运算符 $b || $c 关系运算符 $d ]] </span><br><span class="line"></span><br><span class="line">字符串运算符</span><br><span class="line">=      检测两个字符串是否相等      	 [ $a = $b ]</span><br><span class="line">!=     检测两个字符串是否不相等         [ $a != $b ] </span><br><span class="line">-z     检测字符串长度是否为0         	  [ -z $a ] </span><br><span class="line">-n     检测字符串长度是否不为0       	 [ -n &quot;$a&quot; ]</span><br><span class="line">$      检测字符串是否不为空        	  [ $a ]</span><br><span class="line"></span><br><span class="line">文件测试运算符 []</span><br><span class="line">-b file  检测文件是否是块设备文件(特殊文件)</span><br><span class="line">-c file  检测文件是否是字符设备文件(特殊文件)</span><br><span class="line">-d file  检测文件是否是目录</span><br><span class="line">-f file  检测文件是否是普通文件(既不是目录，也不是设备文件)</span><br><span class="line">-g file  检测文件是否设置了 SGID 位</span><br><span class="line">-k file  检测文件是否设置了粘着位(Sticky Bit)</span><br><span class="line">-p file  检测文件是否是有名管道</span><br><span class="line">-u file  检测文件是否设置了 SUID 位</span><br><span class="line">-r file  检测文件是否可读</span><br><span class="line">-w file  检测文件是否可写</span><br><span class="line">-x file  检测文件是否可执行</span><br><span class="line">-s file  检测文件是否不为空(文件大小是否大于0)</span><br><span class="line">-e file  检测文件(包括目录)是否存在</span><br><span class="line">-S file  判断某文件是否 socket</span><br><span class="line">-L file  检测文件是否存在并且是一个符号链接</span><br><span class="line">-h file  检测文件是否存在并且是一个软链接</span><br><span class="line">-O file  判断对象是否存在，并且属于当前用户</span><br><span class="line">-G file  判断对象是否存在，并且属于当前用户组</span><br></pre></td></tr></table></figure>

<p><code>Shell 内置命令</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">#echo</span><br><span class="line">Shell echo命令和PHP echo命令类似，用于字符串的输出。默认情况下，echo不会解析以反斜杠\开头的转义字符。</span><br><span class="line">echo [-en] &quot;I am guchuan&quot; 或 echo I am guchuan</span><br><span class="line">-e  开启转义</span><br><span class="line">-n  输出时不换行</span><br><span class="line">注：echo -e &quot;I am guchuan\c&quot;也是输出不换行。</span><br><span class="line"></span><br><span class="line">#printf</span><br><span class="line">Shell printf命令，另一个输出命令。printf 使用引用文本或空格分隔的参数，外面可以在 printf 中使用格式化字符串，还可以制定字符串的宽度、左右对齐方式等。默认printf不会像 echo自动添加换行符，可以手动添加\n。</span><br><span class="line">printf &quot;%-10s %c %-4d %4.2f %b\n&quot; &quot;abc&quot; &apos;a&apos; 123 1.23</span><br><span class="line">  %s  string  %c  char  %d  decimal  %f  float  %b  string(处理的转义序列字符串)</span><br><span class="line">  \a      警告字符，通常为ASCII的BEL字符</span><br><span class="line">  \b      后退</span><br><span class="line">  \c      抑制(不显示)输出结果中任何结尾的换行字符(只在%b格式指示符控制下的参数字符串中有效)</span><br><span class="line">  \f      换页</span><br><span class="line">  \n      换行</span><br><span class="line">  \r      回车</span><br><span class="line">  \t      水平制表符</span><br><span class="line">  \v      垂直制表符</span><br><span class="line">  \\      反斜杠字符</span><br><span class="line">  \ddd    表示1到3位数八进制值的字符(仅在格式字符串中有效)</span><br><span class="line">  \0ddd   表示1到3位的八进制值字符</span><br><span class="line">注：如果没有参数列表，那么%s用NULL代替，%d用0代替。格式化浮点数默认支持6位小数。</span><br><span class="line"></span><br><span class="line">#read [-pnts] 参数</span><br><span class="line">Shell read命令，用于从标准输入中读取一行，并把输入值赋给变量。参数以空格分隔，如果输入的参数个数大于需要的参数个数，则多出的参数将被作为整体为最后一个参数接收。</span><br><span class="line">  -p 输入提示文字</span><br><span class="line">  -n 输入字符长度限制(达到6位，自动结束)</span><br><span class="line">  -t 输入限时</span><br><span class="line">  -s 隐藏输入内容 </span><br><span class="line">read name</span><br><span class="line">echo &quot;I am $name&quot;</span><br><span class="line"></span><br><span class="line">#test </span><br><span class="line">Shell test命令，用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。</span><br><span class="line">if test $var1 运算符 $var2</span><br><span class="line"></span><br><span class="line">#let</span><br><span class="line">Shell let命令，用于执行一个或多个表达式，变量计算中不需要加上$。</span><br><span class="line">let a=2+3</span><br><span class="line"></span><br><span class="line">#eval</span><br><span class="line">Shell eval命令，读取一连串的参数，然后再依参数本身的特性来执行。</span><br><span class="line">eval var</span><br><span class="line"></span><br><span class="line">#cd</span><br><span class="line">Shell cd命令，改变目录。如果不带参数，则回到主目录，带参数则切换到参数所指的目录。</span><br><span class="line"></span><br><span class="line">#wc</span><br><span class="line">Shell wc命令，查看文件统计信息。</span><br><span class="line">wc [-lwcL] filename</span><br><span class="line">-l  只统计文件的行数信息</span><br><span class="line">-w  只统计文件的单词数信息</span><br><span class="line">-c  只统计文件的字节数信息</span><br><span class="line">-L  统计文件中最长的行的长度</span><br><span class="line"></span><br><span class="line">#builtin</span><br><span class="line">Shell wc命令，运行一个内置Shell命令，并传送参数，返回退出状态0。当一个函数与一个内置命令同名时，该命令将很有用。</span><br><span class="line"></span><br><span class="line">#command comand [arg]</span><br><span class="line">Shell command comand命令，即使有同名函数，仍然执行该命令。也就是说，跳过函数查找。</span><br><span class="line"></span><br><span class="line">#exit [n]</span><br><span class="line">Shell exit命令：以状态n退出Shell。</span><br><span class="line"></span><br><span class="line">#wait [pid#n]</span><br><span class="line">Shell wait命令：等待pid号为n的后台进程结束，并报告它的结束状态。</span><br><span class="line"></span><br><span class="line">.：执行当前进程环境中的程序。</span><br><span class="line">: 空操作，返回退出状态0。</span><br><span class="line">pwd：打印出当前的工作目录。</span><br><span class="line">type：显示命令的类型。</span><br><span class="line">alias：显示和创建已有命令的别名。</span><br><span class="line">unalias：取消所有的命令别名设置。</span><br><span class="line">bg：把作业放到后台。</span><br><span class="line">bind：显示当前关键字与函数的绑定情况，或将关键字与readline函数或宏进行绑定。</span><br><span class="line">dirs：显示当前记录的目录(pushd的结果)。</span><br><span class="line">disown：从作业表中删除一个活动作业。</span><br><span class="line">enable：启用或禁用Shell内置的命令。</span><br><span class="line">exec command：运行命令，替换掉当前Shell。</span><br><span class="line">fc：历史的修改命令，用于编辑历史命令。</span><br><span class="line">fg：把后台作业放到前台。</span><br><span class="line">getopts：解析并处理命令行选项。</span><br><span class="line">hash：控制用于加速命令查找的内部哈希表。</span><br><span class="line">logout：退出登录Shell。</span><br><span class="line">popd：从目录栈中删除项。</span><br><span class="line">popd：从目录栈中删除项。</span><br></pre></td></tr></table></figure>

<p><code>Shell 流程控制</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">if 判断语句</span><br><span class="line">if [condition]</span><br><span class="line">then</span><br><span class="line">    command1 </span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN </span><br><span class="line">fi</span><br><span class="line">或</span><br><span class="line">if [ condition ]; then command; fi</span><br><span class="line"></span><br><span class="line">if else 判断语句</span><br><span class="line">if condition</span><br><span class="line">then</span><br><span class="line">    command1 </span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">else</span><br><span class="line">    command</span><br><span class="line">fi</span><br><span class="line">或</span><br><span class="line">if condition1</span><br><span class="line">then</span><br><span class="line">    command1</span><br><span class="line">elif condition2 </span><br><span class="line">then </span><br><span class="line">    command2</span><br><span class="line">else</span><br><span class="line">    commandN</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">case 判断语句</span><br><span class="line">case 值 in</span><br><span class="line">模式1)</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">模式2）</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">*)</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">for 循环语句</span><br><span class="line">for var in item1 item2 ... itemN</span><br><span class="line">do</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">done</span><br><span class="line">或</span><br><span class="line">for var in item1 item2 ... itemN; do command; done</span><br><span class="line">或</span><br><span class="line">for((assignment;condition:next));do</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">done;</span><br><span class="line"></span><br><span class="line">while 循环语句</span><br><span class="line">while condition</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br><span class="line">或</span><br><span class="line">while condition;do command;  done</span><br><span class="line"></span><br><span class="line">until 循环语句。until循环执行一系列命令直至条件为true时停止。until循环与while循环在处理方式上刚好相反。</span><br><span class="line">until condition</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br><span class="line">或</span><br><span class="line">until condition;do command;  done</span><br><span class="line"></span><br><span class="line">break 终止循环</span><br><span class="line">break命令允许跳出所有循环(终止执行后面的所有循环)。 </span><br><span class="line"></span><br><span class="line">continue 跳出循环</span><br><span class="line">continue命令仅仅跳出当前循环。</span><br></pre></td></tr></table></figure>

<p><code>Shell 函数</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[ function ] funname [()]</span><br><span class="line">&#123;</span><br><span class="line">    action;</span><br><span class="line">    [return int;]</span><br><span class="line">&#125;</span><br><span class="line">注：function关键字可带可不带。</span><br><span class="line">   调用函数添加参数和调用脚本添加参数相同。</span><br><span class="line">   return 返回。如果不加，将以最后一条命令运行结果，作为返回值。 return后跟数值n(0-255)</span><br><span class="line">   函数返回值在调用该函数后通过 $? 来获得。但仅对其上一条指令负责，一旦函数返回后其返回值没有立即保存入参数，那么其返回值将返回0。</span><br></pre></td></tr></table></figure>

<p><code>Shell 输入/输出重定向</code></p>
<p> Linux 命令默认从标准输入设备(stdin)获取输入，将结果输出到标准输出设备(stdout)显示。一般情况下，标准输入设备就是键盘，标准输出设备就是终端，即显示器。命令的输入不仅可以是键盘，也可以从文件获取输入；命令的输出不仅可以是显示器，还可以很容易的转移向到文件，这被称为输出重定向。 </p>
<p>一般情况下，每个 Unix/Linux 命令运行时都会打开三个文件：</p>
<p>标准输入文件(stdin)：stdin的文件描述符为0，Unix程序默认从stdin读取数据。</p>
<p>标准输出文件(stdout)：stdout 的文件描述符为1，Unix程序默认向stdout输出数据。</p>
<p>标准错误文件(stderr)：stderr的文件描述符为2，Unix程序会向stderr流中写入错误信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">n &lt;&amp; m     将输入文件描述符 m 和 n 合并。</span><br><span class="line">n &gt;&amp; m     将输出文件描述符 m 和 n 合并。</span><br><span class="line">n &gt; file   将文件描述符为 n 的文件重定向到 file。</span><br><span class="line">n &gt;&gt; file  将文件描述符为 n 的文件以追加的方式重定向到 file。</span><br><span class="line">&lt;&lt; tag     将开始标记tag和结束标记tag之间的内容作为输入。</span><br><span class="line">注：n为0、1、2。</span><br><span class="line"></span><br><span class="line">command &lt; file     重定向输入某个位置文件，命令从文件获取输入</span><br><span class="line">command &gt; file     重定向输出到某个位置，替换原有文件的所有内容</span><br><span class="line">command &gt;&gt; file    重定向追加到某个位置，在原有文件的末尾添加内容 </span><br><span class="line">command 2&gt;   file  重定向错误输出到文件</span><br><span class="line">command 2&gt;&gt;  file  重定向错误追加输出到文件末尾</span><br><span class="line">command &amp;&gt;   file  重定向混合输出错误的和正确的都输出到文件</span><br><span class="line">command &lt; infile &gt; outfile    </span><br><span class="line">同时替换输入和输出，执行command，从文件infile读取内容，然后将输出写入到outfile中。</span><br><span class="line"></span><br><span class="line">Here Document</span><br><span class="line">Here Document 是 Shell 中的一种特殊的重定向方式，用来将输入重定向到一个交互式 Shell 脚本或程序。 可以通过wc命令、cat命令查看。</span><br><span class="line">command &lt;&lt; delimiter</span><br><span class="line">    document</span><br><span class="line">delimiter</span><br><span class="line">//将两个 delimiter 之间的内容(document) 作为输入传递给 command。</span><br><span class="line"></span><br><span class="line">/dev/null 文件</span><br><span class="line">/dev/null 是一个特殊的文件，写入到它的内容都会被丢弃；从该文件读取内容，什么也读不到。</span><br><span class="line">&gt;/dev/null 2&gt;&amp;1   </span><br><span class="line">标准输出先重定向到/dev/null，标准错误再重定向到标准输出，则标准输出和标准错误都重定向到/dev/null。</span><br><span class="line">2&gt;&amp;1 &gt;/dev/null</span><br><span class="line">标准错误重定向到标准输出，标准输出在定向到/dev/null，则标准错误打印在终端上而标准疏忽不打印到终端。</span><br><span class="line">注：解释顺序从左至右依次进行。&amp;&gt;和&gt;&amp;，视为整体且相同。</span><br></pre></td></tr></table></figure>

<p><code>Shell 管道命令 |</code> </p>
<p>管道是一种通信机制，通常用于进程或socket间的通信，它表现出来的形式将前面每一个进程的输出直接作为下一个进程的输入。 </p>
<p><code>Shell 文件包含</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Shell 脚本包含外部脚本</span><br><span class="line">一、</span><br><span class="line">. filename</span><br><span class="line">二、</span><br><span class="line">source filename</span><br><span class="line">注：.和filename中间必须有空格，被包含的文件(filename)不需要可执行权限。</span><br></pre></td></tr></table></figure>





<h1 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h1><p><a href="https://blog.csdn.net/taiyang1987912/article/details/39551385" target="_blank" rel="noopener">Shell 中各种括号作用</a></p>
<p><a href="https://www.cnblogs.com/7q4w1e/p/9555680.html" target="_blank" rel="noopener">Shell 内置命令和外部命令</a></p>
</section>
    
        
        <h2 class="footline">
            <a href="/tags/knowledge/#knowledge">knowledge</a>
        </h2>
    

    <footer id="post-meta" class="clearfix">
        <a href="/about/">
        <img class="avatar" src="/images/guchuan.JPG">
        <div>
            <span class="dark">Gu Chuan&#39;s blog</span>
            <span>没学过从来不是理由</span>
        </div>
        </a>
        <section id="sharing">
            <a title="Share to Twitter" class="twitter" href="https://twitter.com/intent/tweet?text=http://yoursite.com/2020/02/01/Shell/ - Shell @" target="_blank" rel="noopener"><span class="icon-twitter">tweet</span></a>
            <a title="Share to Facebook" class="facebook" href="#" onclick="
                window.open(
                  'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
                  'facebook-share-dialog',
                  'width=626,height=436');
                return false;"><span class="icon-facebook-sign">Share</span>
            </a>
        </section>
    </footer>


  <section id="comment">
    <button class="btn" id="loadcmts" onclick="cmts.load();">Load Comments</button>
    <div id="gitment"></div>
    <script src='/js/gitment.browser.js'></script>
    <link rel="stylesheet" href=''>
    <script>
      var cmts={
        load:function cmts(){
          var gitment = new Gitment({
          
            id: "Shell",
          
            owner: "",
            repo: "",
            oauth: {
              client_id: "",
              client_secret: "",
            },
          })
          gitment.render('gitment');
          var loadcmt = document.getElementById("loadcmts");
          var imyourfather = loadcmt.parentNode;
          imyourfather.removeChild(loadcmts)
        }
      }
    </script>
  </section>


	<footer id="footer">
	<div id="social">
		<p class="small">©  Gu Chuan&#39;s blog| Powered by Hexo & 
			<a href="https://github.com/F0r3at/Lights" target="_blank" rel="noopener"> Lights</a>
		</p>
	</div>
</footer>

</section>

	<script src="//cdnjs.loli.net/ajax/libs/instantclick/3.0.1/instantclick.min.js" data-no-instant></script>
	<script data-no-instant>
		
		InstantClick.init('mousedown');
	</script>



